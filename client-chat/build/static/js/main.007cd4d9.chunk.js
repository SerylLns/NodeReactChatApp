(this["webpackJsonpclient-chat"]=this["webpackJsonpclient-chat"]||[]).push([[0],{106:function(e,t,r){},143:function(e,t,r){"use strict";r.r(t);var n=r(0),s=r(36),c=r.n(s),a=(r(80),r(22)),o=r.n(a),i=r(37),l=r(2),d=r(7),u=r.n(d),m=(r(99),r(72)),j=r(5),b=r(6),h="GET_USER",x="UPDATE_USER",p=Object(n.createContext)(),f=r(4),g=r(1),O=function(e){var t=e.setLogin,r=Object(n.useState)(""),s=Object(l.a)(r,2),c=s[0],a=s[1],o=Object(n.useState)(""),i=Object(l.a)(o,2),d=i[0],m=i[1];return Object(g.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault();var t=document.querySelector("#error-field"),r=document.querySelector("#error-div");u()({method:"post",url:"".concat("https://whispering-plateau-71209.herokuapp.com/","api/users/login"),withCredentials:!0,data:{email:c,password:d}}).then((function(e){console.log(e.data),e.data.error?(r.setAttribute("hidden",""),t.innerHTML=e.data.errors.email,t.innerHTML+=e.data.errors.password):window.location="/"})).catch((function(e){return console.log(e)}))}(e)},className:"space-y-6",children:[Object(g.jsxs)("div",{children:[Object(g.jsx)("label",{htmlFor:"email",className:"block text-md font-medium text-gray-700",children:"Email"}),Object(g.jsx)("div",{className:"mt-1",children:Object(g.jsx)("input",{id:"email",name:"email",type:"email",value:c,onChange:function(e){return a(e.target.value)},autoComplete:"email",required:!0,className:"appearance-none block w-full px-3 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-md"})})]}),Object(g.jsxs)("div",{className:"space-y-1",children:[Object(g.jsx)("label",{htmlFor:"password",className:"block text-md font-medium text-gray-700",children:"Mot de passe"}),Object(g.jsx)("div",{className:"mt-1",children:Object(g.jsx)("input",{id:"password",name:"password",type:"password",value:d,onChange:function(e){return m(e.target.value)},autoComplete:"current-password",required:!0,className:"appearance-none block w-full px-3 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-md"})})]}),Object(g.jsx)("div",{hidden:!0,id:"error-div",className:"rounded-md  bg-red-50 p-4",children:Object(g.jsxs)("div",{className:"flex",children:[Object(g.jsx)("div",{className:"flex-shrink-0",children:Object(g.jsx)(f.j,{className:"h-5 w-5 text-red-400","aria-hidden":"true"})}),Object(g.jsx)("div",{className:"ml-3",children:Object(g.jsx)("h3",{id:"error-field",className:"text-sm font-medium text-red-800"})})]})}),Object(g.jsx)("div",{children:Object(g.jsx)("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-md font-medium text-white bg-green-600 hover:bg-green-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Se connecter"})}),Object(g.jsx)("div",{children:Object(g.jsxs)("div",{className:"mt-6 relative",children:[Object(g.jsx)("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:Object(g.jsx)("div",{className:"w-full border-t border-gray-500"})}),Object(g.jsx)("div",{onClick:function(){return t(!1)},className:"relative cursor-pointer flex justify-center text-lg",children:Object(g.jsx)("span",{className:"px-2 pb-2 bg-white text-green-500",children:"pas encore inscrit ?"})})]})})]})},v=function(e){var t=e.setLogin,r=Object(n.useState)(""),s=Object(l.a)(r,2),c=s[0],a=s[1],d=Object(n.useState)(""),m=Object(l.a)(d,2),j=m[0],b=m[1],h=Object(n.useState)(""),x=Object(l.a)(h,2),p=x[0],O=x[1],v=Object(n.useState)(""),y=Object(l.a)(v,2),w=y[0],N=y[1],A=function(){var e=Object(i.a)(o.a.mark((function e(r){var n,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),n=document.querySelector("#error-field"),s=document.querySelector("#error-div"),e.next=5,u()({method:"POST",url:"".concat("https://whispering-plateau-71209.herokuapp.com/","api/users/register"),data:{pseudo:w,email:c,password:j}}).then((function(e){e.data.errors?(s.setAttribute("hidden",""),n.innerHTML=e.data.errors.pseudo,n.innerHTML+=e.data.errors.email,n.innerHTML+=e.data.errors.password):t(!0)})).catch((function(e){return console.log(e)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("form",{onSubmit:function(e){return A(e)},className:"space-y-6",children:[Object(g.jsxs)("div",{children:[Object(g.jsx)("label",{htmlFor:"pseudo",className:"block text-md font-medium text-gray-700",children:"Pseudo"}),Object(g.jsx)("div",{className:"mt-1",children:Object(g.jsx)("input",{id:"pseudo",name:"pseudo",type:"text",value:w,onChange:function(e){return N(e.target.value)},required:!0,className:"appearance-none block w-full px-3 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-md"})})]}),Object(g.jsxs)("div",{className:"space-y-1",children:[Object(g.jsx)("label",{htmlFor:"email",className:"block text-md font-medium text-gray-700",children:"Email"}),Object(g.jsx)("div",{className:"mt-1",children:Object(g.jsx)("input",{id:"email",name:"email",type:"email",value:c,onChange:function(e){return a(e.target.value)},autoComplete:"email",required:!0,className:"appearance-none block w-full px-3 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-md"})})]}),Object(g.jsxs)("div",{className:"space-y-1",children:[Object(g.jsx)("label",{htmlFor:"password",className:"block text-md font-medium text-gray-700",children:"Mot de passe"}),Object(g.jsx)("div",{className:"mt-1",children:Object(g.jsx)("input",{id:"password",name:"password",type:"password",value:j,onChange:function(e){return b(e.target.value)},required:!0,className:"appearance-none block w-full px-3 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-md"})})]}),Object(g.jsxs)("div",{className:"space-y-1",children:[Object(g.jsx)("label",{htmlFor:"passwordConfirm",className:"block text-md font-medium text-gray-700",children:"Confirmer le mot de passe"}),Object(g.jsx)("div",{className:"mt-1",children:Object(g.jsx)("input",{id:"passwordConfirm",name:"passwordConfirm",type:"password",value:p,onChange:function(e){return O(e.target.value)},required:!0,className:"appearance-none block w-full px-3 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-md"})})]}),Object(g.jsx)("div",{hidden:!0,id:"error-div",className:"rounded-md  bg-red-50 p-4",children:Object(g.jsxs)("div",{className:"flex",children:[Object(g.jsx)("div",{className:"flex-shrink-0",children:Object(g.jsx)(f.j,{className:"h-5 w-5 text-red-400","aria-hidden":"true"})}),Object(g.jsx)("div",{className:"ml-3",children:Object(g.jsx)("h3",{id:"error-field",className:"text-sm font-medium text-red-800"})})]})}),Object(g.jsx)("div",{children:Object(g.jsx)("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-md font-medium text-white bg-green-600 hover:bg-green-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"S'inscrire"})}),Object(g.jsx)("div",{children:Object(g.jsxs)("div",{className:"mt-6 relative",children:[Object(g.jsx)("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:Object(g.jsx)("div",{className:"w-full border-t border-gray-500"})}),Object(g.jsx)("div",{onClick:function(){return t(!0)},className:"relative cursor-pointer flex justify-center text-lg",children:Object(g.jsx)("span",{className:"px-2 pb-2 bg-white text-green-500",children:"D\xe9ja inscrit ?"})})]})})]})};function y(){var e=Object(n.useState)(!0),t=Object(l.a)(e,2),r=t[0],s=t[1];return Object(g.jsxs)("div",{className:"min-h-screen bg-white flex",children:[Object(g.jsx)("div",{className:"flex-1 flex flex-col justify-center py-12 px-4 sm:px-6 lg:flex-none lg:px-20 xl:px-24",children:Object(g.jsxs)("div",{className:"mx-auto w-full max-w-sm lg:w-96",children:[Object(g.jsx)("div",{children:Object(g.jsx)("h2",{className:"mt-6 text-center text-4xl font-extrabold text-gray-900",children:r?"Connexion":"Inscription"})}),Object(g.jsx)("div",{className:"mt-8",children:Object(g.jsx)("div",{className:"mt-6",children:r?Object(g.jsx)(O,{setLogin:s}):Object(g.jsx)(v,{setLogin:s})})})]})}),Object(g.jsx)("div",{className:"hidden lg:block relative w-0 flex-1",children:Object(g.jsx)("img",{className:"absolute inset-0 h-full w-full object-cover",src:"https://images.unsplash.com/photo-1482784160316-6eb046863ece?ixid=MnwxMjA3fDB8MHxzZWFyY2h8MzF8fHNub3d8ZW58MHx8MHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1200&q=60",alt:""})})]})}var w=r(47),N=r(45),A=r.n(N),k="GET_ALL_CHATROOMS",C="CHANGE_CURRENT",S="CREATE_CHATROOM",E="SEND_MESSAGE",M="GET_ALL_MESSAGES",R="SOCKET_MESSAGES";function L(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(Boolean).join(" ")}function T(e){var t=e.chatrooms,r=e.currentChatroom,s=e.mobileMenuOpen,c=e.setMobileMenuOpen,a=(e.setEditUser,Object(b.b)()),o=Object(n.useState)(!1),i=Object(l.a)(o,2),d=i[0],m=i[1],j=Object(n.useState)(""),h=Object(l.a)(j,2),x=h[0],p=h[1],O=function(e){var t;a(function(e){return function(t){t({type:C,payload:e})}}(e)),a((t=e._id,function(e){return u()({url:"".concat("https://whispering-plateau-71209.herokuapp.com/","api/chatrooms/").concat(t,"/messages"),method:"GET"}).then((function(t){console.log(t),e({type:M,payload:t.data})})).catch((function(e){console.log(e)}))}))},v=function(){var e;d?""!==x?(a((e=x,function(t){return u()("".concat("https://whispering-plateau-71209.herokuapp.com/","api/chatrooms"),{method:"POST",data:{name:e}}).then((function(e){t({type:S,payload:e.data})})).catch((function(e){return console.log(e)}))})),p(""),m(!1)):m(!1):m(!0)};return Object(g.jsxs)("div",{id:"".concat(s?"navbar-open":"navbar"),className:"flex flex-col border-r relative border-gray-200 h-full pt-5 pb-4 bg-white overflow-y-auto",children:[Object(g.jsx)("div",{id:"close-menu",children:Object(g.jsx)(w.b,{onClick:function(){return c(!1)},className:"h-10 w-1O text-right cursor-pointer text-gray-700"})}),Object(g.jsxs)("div",{className:"flex items-center justify-center flex-shrink-0 px-4",children:[Object(g.jsx)("h2",{className:"text-3xl",style:{fontFamily:"cursive"},children:"Messenger"}),Object(g.jsx)("img",{className:"h-8 w-auto rounded-md ml-3",src:"data:image/png;base64,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",alt:"Workflow"})]}),Object(g.jsxs)("div",{style:{fontFamily:"cursive"},className:"flex w-5/6  items-center justify-center rounded-xl my-5 mx-auto",children:[d?Object(g.jsx)("input",{type:"text",name:"namel",id:"name",value:x,onChange:function(e){return p(e.target.value)},className:"shadow-sm w-3/4 mx-auto focus:ring-green-500 focus:border-green-500 block sm:text-sm border-gray-300 rounded-md",placeholder:"Nom du canal"}):Object(g.jsx)("span",{className:"text-lg",children:"Ajouter un canal"}),Object(g.jsx)(f.g,{onClick:function(){return v()},className:"cursor-pointer flex-shrink-0 text-green-400 ml-2 hover:text-green-700 h-10 w-1O rounded-full transition-colors"})]}),Object(g.jsx)("div",{className:"mt-5 flex-grow flex flex-col",children:Object(g.jsx)("nav",{className:"flex-1 px-2 bg-white space-y-1","aria-label":"Sidebar",children:t&&t.map((function(e){return Object(g.jsxs)("p",{onClick:function(){return O(e)},className:L(e._id===r._id?"bg-gray-100 text-gray-900":"text-gray-600 hover:bg-green-50 hover:text-gray-900","group flex cursor-pointer items-center px-2 py-2 text-sm font-medium rounded-md"),children:[Object(g.jsx)(w.a,{className:"mr-3 flex-shrink-0 h-6 w-6"}),Object(g.jsx)("span",{className:"flex-1 text-center text-base\ttext-green-800 font-medium text-lg font-large",children:e.name})]},e.name)}))})})]})}var Y=function(e){var t=Date.parse(e);return new Date(t).toLocaleDateString("fr-FR",{hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"long",month:"short",day:"numeric"}).toString()},q=function(e){return void 0===e||null===e||"object"===typeof e&&0===Object.keys(e).length||"string"===typeof e&&0===e.trim().length},P=function(e,t){var r=e.userIds,n=[];return r.forEach((function(e){t.forEach((function(t){e===t._id&&n.push(t)}))})),n},I=function(e){var t=e.message,r=(e.currentChatroom,e.fullViewImg),s=Object(n.useContext)(p)===t.senderId,c=Object(n.useState)(),a=Object(l.a)(c,2),o=a[0],i=a[1],d=Object(n.useState)(t.content),u=Object(l.a)(d,2),m=u[0],j=u[1];return Object(n.useEffect)((function(){var e=function(e){for(var t=e.split(" "),r=0;r<t.length;r++)return t[r].includes("https://www.yout")||t[r].includes("https://yout")?{youtubeLink:t[r].replace("watch?v=","embed/"),originalLink:e}:null}(t.content);null!==e&&(i(e.youtubeLink),j(t.content.replace(e.originalLink,"")))}),[t]),Object(g.jsx)(g.Fragment,{children:s?Object(g.jsx)("li",{className:"w-full flex justify-end",children:Object(g.jsxs)("div",{className:"bg-green-100 pb-8 rounded px-5 py-2 my-2 text-gray-700 relative",style:{maxWidth:"300px"},children:[Object(g.jsxs)("span",{className:"block font-bold text-medium",children:[t.author,":"]}),Object(g.jsx)("span",{className:"block overflow-x-hidden overflow-ellipsis",children:m}),t.picture&&Object(g.jsx)("img",{onClick:function(){return r(t.picture)},id:"img-message",className:"h-4/5 pb-10 mx-auto shadow-lg  rounded-sm my-2",src:"/uploads/users/".concat(t.picture),alt:t.content}),o&&Object(g.jsx)("iframe",{src:o,style:{width:"100%"},frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:o}),Object(g.jsx)("span",{className:"block text-xs text-right",children:Y(t.createdAt)})]})}):Object(g.jsx)("li",{className:"w-full flex justify-start",children:Object(g.jsxs)("div",{className:"bg-gray-100 rounded px-5 pb-8 py-2 my-2 text-gray-700 relative",style:{maxWidth:"300px"},children:[Object(g.jsxs)("span",{className:"block font-bold text-green-800 text-medium",children:[t.author,":"]}),Object(g.jsx)("span",{className:"block overflow-x-hidden overflow-ellipsis",children:m}),t.picture&&Object(g.jsx)("img",{onClick:function(){return r(t.picture)},id:"img-message",className:"h-4/5 pb-10 mx-auto shadow-lg  rounded-sm my-2",src:"/uploads/users/".concat(t.picture),alt:t.content}),o&&Object(g.jsx)("iframe",{src:o,style:{width:"100%"},className:"py-3",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:o}),Object(g.jsx)("span",{className:"block text-xs text-right",children:Y(t.createdAt)})]})})})},F=Object(n.createContext)(),G=function(e){var t=e.currentChatroom,r=e.userTyping,s=e.userStopTyping,c=Object(n.useState)(""),a=Object(l.a)(c,2),o=a[0],i=a[1],d=Object(n.useState)(null),m=Object(l.a)(d,2),j=m[0],h=m[1],x=Object(n.useRef)(),p=Object(b.b)(),O=Object(b.c)((function(e){return e.userReducer})),v=Object(n.useContext)(F),y=function(){var e=new FormData;e.append("file",j),e.append("content",o),e.append("pseudo",O.pseudo),e.append("chatroom",t._id),e.append("senderId",O._id),p(function(e,t,r){return function(n){return u()({url:"".concat("https://whispering-plateau-71209.herokuapp.com/","api/chatrooms/").concat(e,"/messages"),method:"POST",data:t}).then((function(e){n({type:E,payload:e.data}),r.emit("newMessage",e.data)})).catch((function(e){return console.log(e)}))}}(t._id,e,v)),i("")};return Object(g.jsxs)("div",{className:"w-full py-7  px-5 flex items-center  border-t border-gray-300",children:[Object(g.jsxs)("button",{onClick:function(){return x.current.click()},className:"outline-none stroke-current hover:text-green-600 focus:outline-none",children:[Object(g.jsx)("svg",{className:"text-green-400 hover:text-green-600 h-7 w-7",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),Object(g.jsx)("input",{ref:x,type:"file",onChange:function(e){return h(e.target.files[0])},style:{visibility:"hidden",width:0,height:0,position:"absolute"}})]}),Object(g.jsx)("button",{className:"outline-none focus:outline-none ml-1",children:Object(g.jsx)("svg",{className:"text-gray-400 hover:text-gray-600 h-7 w-7",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})})}),Object(g.jsx)("input",{"aria-placeholder":"Ecrivez votre message...",placeholder:"Ecrivez votre message...",onFocus:function(){return r(O,t._id)},onBlur:function(){return s()},onKeyPress:function(e){return function(e){"Enter"===e.key&&y()}(e)},className:"py-2 mx-3 pl-5 block w-full rounded-full bg-gray-100 outline-none focus:ring-green-500 focus:border-green-500 border border-gray-300 focus:text-gray-700",type:"text",value:o,onChange:function(e){return i(e.target.value)},name:"message",required:!0}),Object(g.jsxs)("span",{className:"flex items-center  mr-3",children:[o.length<200?o.length:Object(g.jsx)(f.d,{className:"h-5 w-5 text-red-500"}),"/200"]}),Object(g.jsx)("button",{onClick:y,className:"outline-none focus:outline-none",type:"submit",children:Object(g.jsx)("svg",{className:"text-gray-400 h-7 w-7 hover:text-green-600 origin-center transform rotate-90",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(g.jsx)("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})})]})};r(106);function B(e){var t=e.open,r=e.setEditUser,n=e.setOpenUsersChat,s=e.openUsersChat;return Object(g.jsx)(g.Fragment,{children:t&&Object(g.jsx)("div",{className:"rounded-lg rounded-r-sm w-52 shadow-lg ring-1 ring-black ring-opacity-5 overflow-hidden",children:Object(g.jsxs)("div",{className:"relative grid gap-6 bg-white px-5 py-6 sm:gap-8 sm:p-8",children:[Object(g.jsxs)("div",{onClick:function(){return n(!s)},className:"-m-5 p-3 cursor-pointer\tflex items-center block rounded-md hover:bg-gray-50 transition ease-in-out duration-150",children:[Object(g.jsx)(f.i,{className:"flex-shrink-0 h-6 w-6 mr-3 text-green-600"}),Object(g.jsx)("p",{className:"text-base font-medium text-gray-900",children:"Utilisateurs"})]}),Object(g.jsxs)("div",{onClick:function(){return r(!0)},className:"-m-5 p-3 cursor-pointer flex items-center block rounded-md hover:bg-gray-50 transition ease-in-out duration-150",children:[Object(g.jsx)(f.h,{className:"flex-shrink-0 h-6 w-6 mr-3 text-green-600"}),Object(g.jsx)("p",{className:"text-base font-medium text-gray-900",children:"Profil"})]}),Object(g.jsxs)("div",{onClick:function(){"undefined"!==window&&(A.a.remove("jwt",{expires:1}),window.location="/")},className:"-m-5 p-4 cursor-pointer flex items-center block rounded-md hover:bg-gray-50 transition ease-in-out duration-150",children:[Object(g.jsx)(f.e,{className:"flex-shrink-0 h-6 w-6 mr-3 text-gray-600"}),Object(g.jsx)("p",{className:"text-base font-medium text-gray-900",children:"D\xe9connexion"})]})]})})})}var U=function(e){var t=e.setOpenUsersChat,r=Object(n.useState)([]),s=Object(l.a)(r,2),c=s[0],a=s[1],o=Object(b.c)((function(e){return e.usersReducer})),i=Object(b.c)((function(e){return e.chatroomsReducer.currentChatroom}));return Object(n.useState)((function(){a(P(i,o)),console.log(P(i,o))}),[]),Object(g.jsxs)("div",{className:"bg-white absolute top-24 h-80 shadow-xl right-96 rounded-sm p-6 bg-gray-200 w-80 border-b border-gray-200 sm:px-6",children:[Object(g.jsxs)("div",{className:"-ml-4 relative -mt-2 flex items-center pb-3 border-gray-300 justify-center border-b flex-wrap sm:flex-nowrap",children:[Object(g.jsx)("div",{className:"ml-4 mt-2",children:Object(g.jsxs)("h3",{className:"text-xl text-center leading-6 font-xl text-gray-900",children:["#",i.name]})}),Object(g.jsx)(f.k,{onClick:function(){return t(!1)},className:"absolute -top-1 -right-1 cursor-pointer h-7 w-7"})]}),Object(g.jsx)("div",{children:Object(g.jsx)("div",{className:"flow-root mt-6",children:Object(g.jsx)("ul",{className:"-my-5 divide-y divide-gray-200",children:!q(c)&&c.map((function(e){return Object(g.jsx)("li",{className:"py-4",children:Object(g.jsxs)("div",{className:"flex items-center space-x-4",children:[Object(g.jsx)("div",{className:"flex-shrink-0",children:Object(g.jsx)("img",{className:"h-8 w-8 rounded-full",src:"/uploads/users/".concat(e.picture),alt:""})}),Object(g.jsxs)("div",{className:"flex-1 min-w-0",children:[Object(g.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.pseudo}),Object(g.jsxs)("p",{className:"text-sm text-gray-500 truncate",children:["@",e.email.split("@")[0]]})]}),Object(g.jsx)("div",{className:"flex",children:Object(g.jsxs)("a",{href:"#",className:"inline-flex items-center shadow-sm px-2.5 py-0.5 border border-gray-300 text-sm leading-5 font-medium rounded-full text-gray-700 bg-white hover:bg-gray-50",children:[Object(g.jsx)(f.c,{className:"h-5 mr-1 w-5"}),"Message"]})})]})})}))})})})]})},D=function(e){var t=e.currentChatroom,r=e.setEditUser,s=Object(n.useState)([]),c=Object(l.a)(s,2),a=c[0],o=c[1],i=Object(n.useState)(!1),d=Object(l.a)(i,2),u=d[0],m=d[1],j=Object(n.useState)(null),h=Object(l.a)(j,2),x=h[0],O=h[1],v=Object(n.useState)(!1),y=Object(l.a)(v,2),w=y[0],N=y[1],A=Object(n.useState)(!1),k=Object(l.a)(A,2),C=k[0],S=k[1],E=Object(n.useState)(!1),M=Object(l.a)(E,2),L=M[0],T=M[1],Y=Object(b.c)((function(e){return e.userReducer})),q=Object(b.c)((function(e){return e.messagesReducer})),P=Object(n.useContext)(F),D=Object(b.b)(),J=Object(n.useContext)(p),Q="/uploads/users/".concat(Y.picture),V=Object(n.useRef)(null);Object(n.useEffect)((function(){o(q),setTimeout((function(){null!==V.current&&V.current.scrollIntoView({behavior:"smooth"})}),500)}),[q,V]);P.on("userTyping",(function(e,r){e._id!==J&&r===t._id?setTimeout((function(){m(!0)}),1e3):m(!1)})),P.on("userStopTyping",(function(){m(!1)})),P.on("newMessages",(function(e){D(function(e){return function(t){t({type:R,payload:e})}}(e))}));var W=function(e){var t="/uploads/users/".concat(e);O(t),console.log(t),N(!0)};return Object(g.jsxs)("div",{className:"w-full h-full overflow-hidden shadow-lg",children:[Object(g.jsx)("div",{className:"grid min-w-full border rounded",style:{minHeight:"100vh"},children:Object(g.jsx)("div",{className:"col-span-2 bg-white h-full",children:Object(g.jsxs)("div",{style:{height:"99vh"},className:"w-full flex flex-col justify-between pr-3",children:[Object(g.jsxs)("div",{className:"flex items-center justify-between border-b border-gray-300 px-3 py-3",children:[Object(g.jsxs)("span",{className:"block ml-16 font-bold text-base text-2xl text-gray-600",children:["#",t.name]}),Object(g.jsxs)("div",{className:"flex",children:[Object(g.jsx)("span",{className:"connected text-green-500 self-end -mr-3 z-10 ",children:Object(g.jsx)("svg",{width:"12",height:"12",children:Object(g.jsx)("circle",{cx:"6",cy:"6",r:"6",fill:"currentColor"})})}),Object(g.jsx)("img",{onClick:function(){return S(!C)},className:"h-10 w-10 rounded-full cursor-pointer object-cover",src:Q,alt:"username"})]})]}),Object(g.jsxs)("div",{className:"absolute right-10 top-12 z-40 rounded-r-none",children:[Object(g.jsx)(B,{open:C,setOpenUsersChat:T,setEditUser:r,openUsersChat:L}),L&&Object(g.jsx)(U,{setOpenUsersChat:T})]}),Object(g.jsx)("div",{id:"chat",className:"w-full h-5/6 overflow-y-scroll py-5 px-10 relative",children:Object(g.jsx)("ul",{children:a[0]&&a.map((function(e,r){return a.length-1===r?Object(g.jsx)("span",{ref:V,children:Object(g.jsx)(I,{message:e,currentChatroom:t,fullViewImg:W})},e._id):Object(g.jsx)(I,{message:e,currentChatroom:t,fullViewImg:W},e._id)}))})}),u&&Object(g.jsxs)("div",{id:"dot-typing",children:[Object(g.jsx)("p",{id:"dot-1",children:"."}),Object(g.jsx)("p",{id:"dot-2",children:"."}),Object(g.jsx)("p",{id:"dot-3",children:"."})]}),Object(g.jsx)(G,{userStopTyping:function(){P.emit("userStopTyping")},userTyping:function(e,t){P.emit("userTyping",e,t)},currentChatroom:t})]})})}),w&&Object(g.jsxs)("div",{id:"imgFullscreen",className:" z-index-1 absolute flex items-center justify-center top-8 left-1/3 bg-opacity-90 rounded-sm right-20 bottom-24 bg-gray-800",children:[Object(g.jsx)(f.j,{onClick:function(){return N(!1)},className:"hover:text-green-500 cursor-pointer text-green-100 h-10 w-10 absolute top-4 right-6"}),Object(g.jsx)("img",{className:"relative w-full h-4/5 object-contain rounded-sm",src:x,alt:""})]})]})},J=function(e){var t=e.setEditUser,r=Object(b.c)((function(e){return e.userReducer})),s=Object(n.useState)(r.pseudo),c=Object(l.a)(s,2),a=c[0],o=c[1],i=Object(n.useState)(r.email),d=Object(l.a)(i,2),m=d[0],j=d[1],h=Object(n.useState)(!1),p=Object(l.a)(h,2),O=p[0],v=p[1],y=Object(n.useState)(""),w=Object(l.a)(y,2),N=w[0],A=w[1],k=Object(b.b)(),C=function(){var e=new FormData;e.append("pseudo",a),e.append("file",N),e.append("email",m),k(function(e,t){return function(r){return u()({url:"".concat("https://whispering-plateau-71209.herokuapp.com/","api/users/").concat(e),method:"PATCH",data:t}).then((function(e){r({type:x,payload:e.data})})).catch((function(e){return console.log(e)}))}}(r._id,e)),v(!1)};return Object(g.jsx)("div",{className:"z-50 absolute flex items-center top-0 w-full h-full bg-opacity-100 shadow-md bg-gray-600 right-0 bottom-0 left-0",children:Object(g.jsxs)("div",{className:"max-w-md mx-auto relative bg-white w-4/6 shadow-md rounded-lg px-4 sm:max-w-3xl sm:py-10 sm:px-6 lg:max-w-7xl lg:px-8",children:[Object(g.jsx)(f.k,{onClick:function(){return t(!1)},className:"absolute top-5 right-5 w-8 h-8 cursor-pointer"}),Object(g.jsx)("div",{className:"divide-y divide-warm-gray-200",children:Object(g.jsxs)("section",{className:"","aria-labelledby":"contact-heading",children:[Object(g.jsx)("h2",{id:"contact-heading",className:"text-2xl mb-5 font-extrabold text-warm-gray-900 sm:text-3xl",children:"R\xe9glages"}),Object(g.jsxs)("div",{className:"mt-4 grid grid-cols-1 gap-12 sm:grid-cols-2 sm:gap-x-8 sm:gap-y-12 lg:mt-0 lg:col-span-2",children:[Object(g.jsxs)("div",{className:"bg-gray-50 rounded-md px-3 py-1",children:[Object(g.jsx)("h3",{className:"text-lg font-bold text-warm-gray-900",children:"Pseudo:"}),Object(g.jsx)("dl",{className:"mt-2 text-base text-warm-gray-500",children:Object(g.jsx)("div",{children:O?Object(g.jsx)("input",{type:"text",name:"pseudo",id:"pseudo",value:a,onChange:function(e){return o(e.target.value)},className:"shadow-sm focus:ring-green-500 focus:border-green-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:r.pseudo}):Object(g.jsx)("dd",{className:"ml-5 text-lg",children:r.pseudo})})})]}),Object(g.jsxs)("div",{className:"bg-gray-50 rounded-md px-3 py-1",children:[Object(g.jsxs)("div",{className:"flex items-center",children:[Object(g.jsx)(f.a,{className:"w-6 h-6 mr-1"}),Object(g.jsx)("h3",{className:"text-lg font-bold text-warm-gray-900",children:"Email:"})]}),Object(g.jsx)("dl",{className:"mt-2 text-base text-warm-gray-500",children:Object(g.jsx)("div",{children:O?Object(g.jsx)("input",{type:"text",name:"email",id:"email",value:m,onChange:function(e){return j(e.target.value)},className:"shadow-sm focus:ring-green-500 focus:border-green-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:r.email}):Object(g.jsx)("dd",{className:"ml-5 text-lg",children:r.email})})})]}),Object(g.jsx)("div",{children:Object(g.jsxs)("label",{className:"".concat(O?"":"disable-this"," w-64 flex flex-col items-center disabled:opacity-50 px-4 py-8 bg-white text-blue rounded-lg shadow-lg tracking-wide uppercase border border-blue cursor-pointer hover:bg-gray-400 transition-all hover:text-white"),id:"uploadImgRef",children:[Object(g.jsx)("svg",{className:"w-8 h-8  ",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",children:Object(g.jsx)("path",{d:"M16.88 9.1A4 4 0 0 1 16 17H5a5 5 0 0 1-1-9.9V7a3 3 0 0 1 4.52-2.59A4.98 4.98 0 0 1 17 8c0 .38-.04.74-.12 1.1zM11 11h3l-4-4-4 4h3v3h2v-3z"})}),Object(g.jsx)("span",{className:"mt-2 text-base leading-normal",children:"Changer de photo"}),Object(g.jsx)("input",{type:"file",onChange:function(e){return function(e){var t;A(e),t=URL.createObjectURL(e);var r=document.getElementById("uploadImgRef");r.style.background="url(".concat(t,")"),r.style.backgroundSize="cover",r.style.backgroundPosition="center"}(e.target.files[0])},className:"hidden"})]})}),O?Object(g.jsxs)("button",{onClick:function(){return C()},className:"inline-flex items-center absolute bottom-10 right-16 justify-between w-1/5 h-12 px-5 text-green-100 transition-colors duration-150 bg-green-700 rounded-lg self-end focus:shadow-outline hover:bg-green-800",children:[Object(g.jsx)("span",{className:"text-md font-bold text-white",children:"Valider"}),Object(g.jsx)(f.b,{className:"w-8 h-8 text-white"})]}):Object(g.jsxs)("button",{onClick:function(){return v(!0)},className:"inline-flex items-center absolute bottom-10 right-16 justify-between w-1/5 h-12 px-5 text-green-100 transition-colors duration-150 bg-gray-400 rounded-lg self-end focus:shadow-outline hover:bg-gray-600",children:[Object(g.jsx)("span",{className:"text-md font-bold text-white",children:"Modifier"}),Object(g.jsx)(f.f,{className:"w-6 h-6 text-white"})]})]})]})})]})})},Q=function(){var e=Object(n.useContext)(p),t=Object(b.c)((function(e){return e.chatroomsReducer})),r=Object(n.useState)(!1),s=Object(l.a)(r,2),c=s[0],a=s[1],o=Object(n.useState)(!1),i=Object(l.a)(o,2),d=i[0],u=i[1];return Object(g.jsxs)("div",{children:[e?Object(g.jsxs)("div",{className:"flex App",style:{width:"100vw",height:"100vh"},children:[Object(g.jsx)("div",{onClick:function(e){return a(!c)},className:"burger-menu ".concat(c?"is-open":"is-close"),children:Object(g.jsx)("span",{})}),Object(g.jsx)(T,{mobileMenuOpen:c,setMobileMenuOpen:a,chatrooms:t.chatrooms,currentChatroom:t.currentChatroom,setEditUser:u}),q(t.currentChatroom)?Object(g.jsx)("h1",{children:"Empty"}):Object(g.jsx)(D,{setEditUser:u,currentChatroom:t.currentChatroom})]}):Object(g.jsx)(y,{}),d&&Object(g.jsx)(J,{setEditUser:u})]})},V=r(71),W=r.n(V);var H=function(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),r=t[0],s=t[1],c=Object(b.b)(),a=Object(n.useState)(null),d=Object(l.a)(a,2),x=d[0],f=d[1];return Object(n.useEffect)((function(){(function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u()({method:"GET",url:"".concat("https://whispering-plateau-71209.herokuapp.com/","jwtid"),withCredentials:!0,"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS"}).then((function(e){s(e.data);var t=W()("".concat("https://whispering-plateau-71209.herokuapp.com/"));f(t)})).catch((function(e){console.log("no toke"+e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),r&&c(function(e){return function(t){return u.a.get("".concat("https://whispering-plateau-71209.herokuapp.com/","api/users/").concat(e)).then((function(e){t({type:h,payload:e.data})})).catch((function(e){return console.log(e)}))}}(r))}),[r,c]),Object(g.jsx)(m.a,{children:Object(g.jsx)(j.c,{children:Object(g.jsx)(F.Provider,{value:x,children:Object(g.jsx)(p.Provider,{value:r,children:Object(g.jsx)(j.a,{exact:!0,path:"/",component:Q})})})})})},z=r(74),Z=r(21),K={};var X="GET_ALL_USERS",_={};var $=r(30),ee=r(17),te={currentChatroom:{},chatrooms:[]};var re={};var ne=Object(Z.combineReducers)({userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:case x:return t.payload;default:return e}},usersReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return t.payload;default:return e}},chatroomsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(ee.a)(Object(ee.a)({},e),{},{chatrooms:t.payload});case C:return Object(ee.a)(Object(ee.a)({},e),{},{currentChatroom:t.payload});case S:var r=Object($.a)(e.chatrooms);return r.push(t.payload),Object(ee.a)(Object(ee.a)({},e),{},{chatrooms:r});default:return e}},messagesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return t.payload;case E:var r=Object($.a)(e);return r.push(t.payload),r;case R:var n=e.filter((function(e){return e._id===t.payload._id}));if(n.length>0)return e;var s=Object($.a)(e);return s.push(t.payload),s;default:return e}}}),se=r(75),ce=Object(Z.createStore)(ne,Object(se.composeWithDevTools)(Object(Z.applyMiddleware)(z.a)));ce.dispatch((function(e){return u.a.get("".concat("https://whispering-plateau-71209.herokuapp.com/","api/users")).then((function(t){e({type:X,payload:t.data})})).catch((function(e){return console.log(e)}))})),ce.dispatch((function(e){return u.a.get("".concat("https://whispering-plateau-71209.herokuapp.com/","api/chatrooms")).then((function(t){e({type:k,payload:t.data})})).catch((function(e){return console.log(e)}))})),c.a.render(Object(g.jsx)(b.a,{store:ce,children:Object(g.jsx)(H,{})}),document.getElementById("root"))},80:function(e,t,r){},99:function(e,t,r){}},[[143,1,2]]]);
//# sourceMappingURL=main.007cd4d9.chunk.js.map