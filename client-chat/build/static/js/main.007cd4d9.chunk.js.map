{"version":3,"sources":["redux/actions/userAction.js","context/appContext.js","Components/Login/SignIn.js","Components/Login/SignUp.js","Components/Login/Login.js","redux/actions/chatroomsAction.js","redux/actions/messagesAction.js","Navbar.js","assets/logoChat.png","utils.js","Components/Chat/Message.js","context/socketContext.js","Components/Chat/MessageForm.js","Components/Chat/FlyoutChat.js","Components/Chat/UserChat.js","Components/Chat/ChatScreen.js","Components/settings/UserSetting.js","Home.js","App.js","redux/reducers/userReducer.js","redux/actions/usersAction.js","redux/reducers/usersReducer.js","redux/reducers/chatroomsReducer.js","redux/reducers/messagesReducer.js","redux/reducers/index.js","index.js"],"names":["GET_USER","UPDATE_USER","UidContext","createContext","SignIn","setLogin","useState","email","setEmail","password","setPassword","onSubmit","e","preventDefault","errors","document","querySelector","errorDiv","axios","method","url","process","withCredentials","data","then","res","console","log","error","setAttribute","innerHTML","window","location","catch","err","handleSubmit","className","htmlFor","id","name","type","value","onChange","target","autoComplete","required","hidden","aria-hidden","onClick","SignUp","passwordConfirm","setPasswordConfirm","pseudo","setPseudo","a","Login","login","src","alt","GET_ALL_CHATROOMS","CHANGE_CURRENT","CREATE_CHATROOM","SEND_MESSAGE","GET_ALL_MESSAGES","SOCKET_MESSAGES","classNames","classes","filter","Boolean","join","Navbar","chatrooms","currentChatroom","mobileMenuOpen","setMobileMenuOpen","dispatch","setEditUser","useDispatch","createCanal","setCreateCanal","canalName","setCanalName","changeCurrentChatroom","chatroom","chatroomId","payload","changeCurrent","_id","handleCreateCanal","style","fontFamily","placeholder","aria-label","map","item","dateParser","dateToParse","timestamp","Date","parse","toLocaleDateString","hour","minute","second","weekday","month","day","toString","isEmpty","undefined","Object","keys","length","trim","getChatroomUsers","users","userIds","result","forEach","user","push","Message","message","fullViewImg","isAuthor","useContext","senderId","video","setVideo","content","currentMessage","setCurrentMessage","useEffect","findLink","split","i","includes","youtubeLink","replace","originalLink","youtubeVideo","maxWidth","author","picture","width","frameborder","allow","allowFullScreen","title","createdAt","socketContext","MessageForm","userTyping","userStopTyping","setMessage","image","setImage","fieldRef","useRef","currentUser","useSelector","state","userReducer","socket","handleClick","FormData","append","emit","sendMessage","current","click","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","ref","files","visibility","height","position","aria-placeholder","onFocus","onBlur","onKeyPress","key","handleKeyPress","FlyoutChat","open","setOpenUsersChat","openUsersChat","Cookies","remove","expires","UserChat","chatroomUsers","setChatroomUsers","usersReducer","chatroomsReducer","href","ChatScreen","allMessages","setAllMessages","isTyping","setIsTyping","imgZoom","setImgZoom","isZoom","setIsZoom","openFlyout","setOpenFlyout","messages","messagesReducer","Uid","lastMessageRef","setTimeout","scrollIntoView","behavior","on","currentChatroomId","socketMessages","imageName","imgPath","minHeight","cx","cy","r","index","UserSetting","editMode","setEditMode","editProfil","uid","updateUser","aria-labelledby","file","previewSrc","URL","createObjectURL","inputImg","getElementById","background","backgroundSize","backgroundPosition","imagePreview","Home","chatroomsState","editUser","App","setUid","setSocket","newSocket","io","fetchToken","get","getUser","Provider","exact","path","component","initialState","GET_ALL_USERS","combineReducers","action","newState","find","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render"],"mappings":"iQAEaA,EAAW,WACXC,EAAc,cCAdC,EAAaC,0B,cCsHXC,EArHA,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAAe,EACLC,mBAAS,IADJ,mBACxBC,EADwB,KACjBC,EADiB,OAECF,mBAAS,IAFV,mBAExBG,EAFwB,KAEdC,EAFc,KA8B/B,OACE,uBAAMC,SAAU,SAACC,GAAD,OA3BG,SAACA,GACpBA,EAAEC,iBACF,IAAMC,EAASC,SAASC,cAAc,gBAChCC,EAAWF,SAASC,cAAc,cACxCE,IAAM,CACJC,OAAQ,OACRC,IAAI,GAAD,OAAKC,kDAAL,mBACHC,iBAAiB,EACjBC,KAAM,CACJhB,QACAE,cAGDe,MAAK,SAACC,GACLC,QAAQC,IAAIF,EAAIF,MACZE,EAAIF,KAAKK,OACXX,EAASY,aAAa,SAAU,IAChCf,EAAOgB,UAAYL,EAAIF,KAAKT,OAAOP,MACnCO,EAAOgB,WAAaL,EAAIF,KAAKT,OAAOL,UAEpCsB,OAAOC,SAAW,OAGrBC,OAAM,SAACC,GAAD,OAASR,QAAQC,IAAIO,MAIPC,CAAavB,IAAIwB,UAAU,YAAlD,UACE,gCACE,uBACEC,QAAQ,QACRD,UAAU,0CAFZ,mBAMA,qBAAKA,UAAU,OAAf,SACE,uBACEE,GAAG,QACHC,KAAK,QACLC,KAAK,QACLC,MAAOlC,EACPmC,SAAU,SAAC9B,GAAD,OAAOJ,EAASI,EAAE+B,OAAOF,QACnCG,aAAa,QACbC,UAAQ,EACRT,UAAU,2LAKhB,sBAAKA,UAAU,YAAf,UACE,uBACEC,QAAQ,WACRD,UAAU,0CAFZ,0BAMA,qBAAKA,UAAU,OAAf,SACE,uBACEE,GAAG,WACHC,KAAK,WACLC,KAAK,WACLC,MAAOhC,EACPiC,SAAU,SAAC9B,GAAD,OAAOF,EAAYE,EAAE+B,OAAOF,QACtCG,aAAa,mBACbC,UAAQ,EACRT,UAAU,2LAKhB,qBAAKU,QAAM,EAACR,GAAG,YAAYF,UAAU,4BAArC,SACE,sBAAKA,UAAU,OAAf,UACE,qBAAKA,UAAU,gBAAf,SACE,cAAC,IAAD,CAAaA,UAAU,uBAAuBW,cAAY,WAE5D,qBAAKX,UAAU,OAAf,SACE,oBAAIE,GAAG,cAAcF,UAAU,4CAOrC,8BACE,wBACEI,KAAK,SACLJ,UAAU,+NAFZ,4BAOF,8BACE,sBAAKA,UAAU,gBAAf,UACE,qBACEA,UAAU,qCACVW,cAAY,OAFd,SAIE,qBAAKX,UAAU,sCAEjB,qBACEY,QAAS,kBAAM3C,GAAS,IACxB+B,UAAU,sDAFZ,SAIE,sBAAMA,UAAU,oCAAhB,6CCiDGa,EA5JA,SAAC,GAAkB,IAAhB5C,EAAe,EAAfA,SAAe,EACLC,mBAAS,IADJ,mBACxBC,EADwB,KACjBC,EADiB,OAECF,mBAAS,IAFV,mBAExBG,EAFwB,KAEdC,EAFc,OAGeJ,mBAAS,IAHxB,mBAGxB4C,EAHwB,KAGPC,EAHO,OAIH7C,mBAAS,IAJN,mBAIxB8C,EAJwB,KAIhBC,EAJgB,KAMzBlB,EAAY,uCAAG,WAAOvB,GAAP,iBAAA0C,EAAA,6DACnB1C,EAAEC,iBACIC,EAASC,SAASC,cAAc,gBAChCC,EAAWF,SAASC,cAAc,cAHrB,SAIbE,IAAM,CACVC,OAAQ,OACRC,IAAI,GAAD,OAAKC,kDAAL,sBACHE,KAAM,CACJ6B,SACA7C,QACAE,cAEDe,MAAK,SAACC,GACDA,EAAIF,KAAKT,QACXG,EAASY,aAAa,SAAU,IAChCf,EAAOgB,UAAYL,EAAIF,KAAKT,OAAOsC,OACnCtC,EAAOgB,WAAaL,EAAIF,KAAKT,OAAOP,MACpCO,EAAOgB,WAAaL,EAAIF,KAAKT,OAAOL,UAEpCJ,GAAS,MAGZ4B,OAAM,SAACC,GAAD,OAASR,QAAQC,IAAIO,MAtBX,2CAAH,sDAyBlB,OACE,uBAAMvB,SAAU,SAACC,GAAD,OAAOuB,EAAavB,IAAIwB,UAAU,YAAlD,UACE,gCACE,uBACEC,QAAQ,SACRD,UAAU,0CAFZ,oBAMA,qBAAKA,UAAU,OAAf,SACE,uBACEE,GAAG,SACHC,KAAK,SACLC,KAAK,OACLC,MAAOW,EACPV,SAAU,SAAC9B,GAAD,OAAOyC,EAAUzC,EAAE+B,OAAOF,QACpCI,UAAQ,EACRT,UAAU,2LAIhB,sBAAKA,UAAU,YAAf,UACE,uBACEC,QAAQ,QACRD,UAAU,0CAFZ,mBAMA,qBAAKA,UAAU,OAAf,SACE,uBACEE,GAAG,QACHC,KAAK,QACLC,KAAK,QACLC,MAAOlC,EACPmC,SAAU,SAAC9B,GAAD,OAAOJ,EAASI,EAAE+B,OAAOF,QACnCG,aAAa,QACbC,UAAQ,EACRT,UAAU,2LAKhB,sBAAKA,UAAU,YAAf,UACE,uBACEC,QAAQ,WACRD,UAAU,0CAFZ,0BAMA,qBAAKA,UAAU,OAAf,SACE,uBACEE,GAAG,WACHC,KAAK,WACLC,KAAK,WACLC,MAAOhC,EACPiC,SAAU,SAAC9B,GAAD,OAAOF,EAAYE,EAAE+B,OAAOF,QACtCI,UAAQ,EACRT,UAAU,2LAIhB,sBAAKA,UAAU,YAAf,UACE,uBACEC,QAAQ,kBACRD,UAAU,0CAFZ,uCAMA,qBAAKA,UAAU,OAAf,SACE,uBACEE,GAAG,kBACHC,KAAK,kBACLC,KAAK,WACLC,MAAOS,EACPR,SAAU,SAAC9B,GAAD,OAAOuC,EAAmBvC,EAAE+B,OAAOF,QAC7CI,UAAQ,EACRT,UAAU,2LAKhB,qBAAKU,QAAM,EAACR,GAAG,YAAYF,UAAU,4BAArC,SACE,sBAAKA,UAAU,OAAf,UACE,qBAAKA,UAAU,gBAAf,SACE,cAAC,IAAD,CAAaA,UAAU,uBAAuBW,cAAY,WAE5D,qBAAKX,UAAU,OAAf,SACE,oBACEE,GAAG,cACHF,UAAU,4CAMlB,8BACE,wBACEI,KAAK,SACLJ,UAAU,+NAFZ,0BAOF,8BACE,sBAAKA,UAAU,gBAAf,UACE,qBACEA,UAAU,qCACVW,cAAY,OAFd,SAIE,qBAAKX,UAAU,sCAEjB,qBACEY,QAAS,kBAAM3C,GAAS,IACxB+B,UAAU,sDAFZ,SAIE,sBAAMA,UAAU,oCAAhB,0CClJG,SAASmB,IAAS,IAAD,EACJjD,oBAAS,GADL,mBACvBkD,EADuB,KAChBnD,EADgB,KAG9B,OACE,sBAAK+B,UAAU,6BAAf,UACE,qBAAKA,UAAU,wFAAf,SACE,sBAAKA,UAAU,kCAAf,UACE,8BACE,oBAAIA,UAAU,yDAAd,SACGoB,EAAQ,YAAc,kBAI3B,qBAAKpB,UAAU,OAAf,SACE,qBAAKA,UAAU,OAAf,SACGoB,EACC,cAAC,EAAD,CAAQnD,SAAUA,IAElB,cAAC,EAAD,CAAQA,SAAUA,aAM5B,qBAAK+B,UAAU,sCAAf,SACE,qBACEA,UAAU,8CACVqB,IAAI,qKACJC,IAAI,U,6BC9BDC,EAAoB,oBACpBC,EAAiB,iBACjBC,EAAkB,kBCFlBC,EAAe,eACfC,EAAmB,mBACnBC,EAAkB,kBCU/B,SAASC,IAAwB,IAAD,uBAATC,EAAS,yBAATA,EAAS,gBAC9B,OAAOA,EAAQC,OAAOC,SAASC,KAAK,KAGvB,SAASC,EAAT,GAMX,IALFC,EAKC,EALDA,UACAC,EAIC,EAJDA,gBACAC,EAGC,EAHDA,eACAC,EAEC,EAFDA,kBAGMC,GADL,EADDC,YAEiBC,eADhB,EAEqCvE,oBAAS,GAF9C,mBAEMwE,EAFN,KAEmBC,EAFnB,OAGiCzE,mBAAS,IAH1C,mBAGM0E,EAHN,KAGiBC,EAHjB,KAKKC,EAAwB,SAACC,GDRH,IAACC,ECS3BT,EFdyB,SAACQ,GAC5B,OAAO,SAACR,GACNA,EAAS,CAACnC,KAAMoB,EAAgByB,QAASF,KEYhCG,CAAcH,IACvBR,GDV2BS,ECUHD,EAASI,IDT5B,SAACZ,GACN,OAAOzD,IAAM,CACXE,IAAI,GAAD,OAAKC,kDAAL,yBAAmD+D,EAAnD,aACHjE,OAAQ,QACPK,MAAK,SAACC,GACPC,QAAQC,IAAIF,GACZkD,EAAS,CAAEnC,KAAMuB,EAAkBsB,QAAS5D,EAAIF,UAC/CU,OAAM,SAACC,GACRR,QAAQC,IAAIO,UCIVsD,EAAoB,WFZE,IAACjD,EEatBuC,EAGe,KAAdE,GACFL,GFjBuBpC,EEiBCyC,EFhBvB,SAACL,GACN,OAAOzD,IAAM,GAAD,OAAIG,kDAAJ,iBAAkD,CAC5DF,OAAQ,OACRI,KAAM,CACJgB,KAAMA,KAGPf,MAAK,SAACC,GACLkD,EAAS,CAAEnC,KAAMqB,EAAiBwB,QAAS5D,EAAIF,UAEhDU,OAAM,SAACC,GAAD,OAASR,QAAQC,IAAIO,SEO1B+C,EAAa,IACbF,GAAe,IAEfA,GAAe,GAPjBA,GAAe,IAanB,OACE,sBACEzC,GAAE,UAAKmC,EAAiB,cAAgB,UACxCrC,UAAU,4FAFZ,UAIE,qBAAKE,GAAG,aAAR,SACE,cAAC,IAAD,CACEU,QAAS,kBAAM0B,GAAkB,IACjCtC,UAAU,wDAGd,sBAAKA,UAAU,sDAAf,UACE,oBAAIA,UAAU,WAAWqD,MAAO,CAAEC,WAAY,WAA9C,uBAGA,qBACEtD,UAAU,6BACVqB,IClEK,q4ODmELC,IAAI,gBAGR,sBACE+B,MAAO,CAAEC,WAAY,WACrBtD,UAAU,kEAFZ,UAIG0C,EACC,uBACEtC,KAAK,OACLD,KAAK,QACLD,GAAG,OACHG,MAAOuC,EACPtC,SAAU,SAAC9B,GAAD,OAAOqE,EAAarE,EAAE+B,OAAOF,QACvCL,UAAU,kHACVuD,YAAY,iBAGd,sBAAMvD,UAAU,UAAhB,8BAEF,cAAC,IAAD,CACEY,QAAS,kBAAMwC,KACfpD,UAAU,sHAGd,qBAAKA,UAAU,+BAAf,SACE,qBAAKA,UAAU,iCAAiCwD,aAAW,UAA3D,SACGrB,GACCA,EAAUsB,KAAI,SAACC,GAAD,OACZ,oBACE9C,QAAS,kBAAMkC,EAAsBY,IAErC1D,UAAW6B,EACT6B,EAAKP,MAAQf,EAAgBe,IACzB,4BACA,sDACJ,mFAPJ,UAUE,cAAC,IAAD,CAAUnD,UAAU,+BACpB,sBAAMA,UAAU,8EAAhB,SACG0D,EAAKvD,SAVHuD,EAAKvD,gBElGnB,IAAMwD,EAAa,SAACC,GACzB,IAUIC,EAAYC,KAAKC,MAAMH,GAE3B,OADW,IAAIE,KAAKD,GAAWG,mBAAmB,QAXpC,CACZC,KAAM,UACNC,OAAQ,UACRC,OAAQ,UACRC,QAAS,OAETC,MAAO,QACPC,IAAK,YAKKC,YAiBDC,EAAU,SAACnE,GAEtB,YACYoE,IAAVpE,GACU,OAAVA,GACkB,kBAAVA,GAAoD,IAA9BqE,OAAOC,KAAKtE,GAAOuE,QAC/B,kBAAVvE,GAA8C,IAAxBA,EAAMwE,OAAOD,QAoBlCE,EAAmB,SAAC1C,EAAiB2C,GAChD,IAAMC,EAAU5C,EAAgB4C,QAC5BC,EAAS,GAQb,OAPAD,EAAQE,SAAQ,SAAChF,GACf6E,EAAMG,SAAQ,SAAAC,GACRjF,IAAOiF,EAAKhC,KACd8B,EAAOG,KAAKD,SAIXF,GCgCMI,EA9FC,SAAC,GAA+C,IAA7CC,EAA4C,EAA5CA,QAA0BC,GAAkB,EAAnCnD,gBAAmC,EAAlBmD,aAErCC,EADgBC,qBAAW3H,KACEwH,EAAQI,SAFkB,EAGnCxH,qBAHmC,mBAGtDyH,EAHsD,KAG/CC,EAH+C,OAIjB1H,mBAASoH,EAAQO,SAJA,mBAItDC,EAJsD,KAItCC,EAJsC,KAY7D,OAPAC,qBAAU,WACR,IAAIL,ED8BoB,SAACL,GAE3B,IADA,IAAIW,EAAWX,EAAQY,MAAM,KACpBC,EAAI,EAAGA,EAAIF,EAASrB,OAAQuB,IACnC,OACEF,EAASE,GAAGC,SAAS,qBACrBH,EAASE,GAAGC,SAAS,gBAGN,CACbC,YAFUJ,EAASE,GAAGG,QAAQ,WAAY,UAG1CC,aAAcjB,GAGJ,KC3CFkB,CAAalB,EAAQO,SACnB,OAAVF,IACFC,EAASD,EAAMU,aACfN,EAAkBT,EAAQO,QAAQS,QAAQX,EAAMY,aAAc,QAE/D,CAACjB,IAEF,mCACGE,EACC,oBAAIxF,UAAU,0BAAd,SACE,sBACEA,UAAU,kEACVqD,MAAO,CAAEoD,SAAU,SAFrB,UAIE,uBAAMzG,UAAU,8BAAhB,UACGsF,EAAQoB,OADX,OAGA,sBAAM1G,UAAU,4CAAhB,SACG8F,IAEFR,EAAQqB,SACP,qBACE/F,QAAS,kBAAM2E,EAAYD,EAAQqB,UACnCzG,GAAG,cACHF,UAAU,iDACVqB,IAAG,yBAAoBiE,EAAQqB,SAC/BrF,IAAKgE,EAAQO,UAGhBF,GACC,wBACEtE,IAAKsE,EACLtC,MAAO,CAAEuD,MAAO,QAChBC,YAAY,IACZC,MAAM,2FAENC,iBAAe,EACfC,MAAOrB,IAGX,sBAAM3F,UAAU,2BAAhB,SACG2D,EAAW2B,EAAQ2B,kBAK1B,oBAAIjH,UAAU,4BAAd,SACE,sBACEA,UAAU,iEACVqD,MAAO,CAAEoD,SAAU,SAFrB,UAIE,uBAAMzG,UAAU,6CAAhB,UACGsF,EAAQoB,OADX,OAGA,sBAAM1G,UAAU,4CAAhB,SACG8F,IAEFR,EAAQqB,SACP,qBACE/F,QAAS,kBAAM2E,EAAYD,EAAQqB,UACnCzG,GAAG,cACHF,UAAU,iDACVqB,IAAG,yBAAoBiE,EAAQqB,SAC/BrF,IAAKgE,EAAQO,UAGhBF,GACC,wBACEtE,IAAKsE,EACLtC,MAAO,CAAEuD,MAAO,QAChB5G,UAAU,OACV6G,YAAY,IACZC,MAAM,2FAENC,iBAAe,EACfC,MAAOrB,IAGX,sBAAM3F,UAAU,2BAAhB,SACG2D,EAAW2B,EAAQ2B,qBCtFrBC,EAAgBnJ,0BC4GdoJ,EA1GK,SAAC,GAAqD,IAAnD/E,EAAkD,EAAlDA,gBAAiBgF,EAAiC,EAAjCA,WAAYC,EAAqB,EAArBA,eAAqB,EACzCnJ,mBAAS,IADgC,mBAChEoH,EADgE,KACvDgC,EADuD,OAE7CpJ,mBAAS,MAFoC,mBAEhEqJ,EAFgE,KAEzDC,EAFyD,KAGjEC,EAAWC,mBACXnF,EAAWE,cACXkF,EAAcC,aAAY,SAACC,GAAD,OAAWA,EAAMC,eAC3CC,EAAStC,qBAAWyB,GAEpBc,EAAc,WAClB,IAAM7I,EAAO,IAAI8I,SACjB9I,EAAK+I,OAAO,OAAQX,GACpBpI,EAAK+I,OAAO,UAAW5C,GACvBnG,EAAK+I,OAAO,SAAUP,EAAY3G,QAClC7B,EAAK+I,OAAO,WAAY9F,EAAgBe,KACxChE,EAAK+I,OAAO,WAAYP,EAAYxE,KACpCZ,ENduB,SAACS,EAAY7D,EAAM4I,GAC5C,OAAO,SAACxF,GACN,OAAOzD,IAAM,CACXE,IAAI,GAAD,OAAKC,kDAAL,yBAAmD+D,EAAnD,aACHjE,OAAQ,OACRI,SAECC,MAAK,SAACC,GACLkD,EAAS,CAAEnC,KAAMsB,EAAcuB,QAAS5D,EAAIF,OAC5C4I,EAAOI,KAAK,aAAc9I,EAAIF,SAE/BU,OAAM,SAACC,GAAD,OAASR,QAAQC,IAAIO,OMI5BsI,CAAYhG,EAAgBe,IAAKhE,EAAM4I,IAEzCT,EAAW,KAOb,OACE,sBAAKtH,UAAU,gEAAf,UACE,yBACEY,QAAS,kBAAM6G,EAASY,QAAQC,SAChCtI,UAAU,sEAFZ,UAIE,qBACEA,UAAU,8CACVuI,MAAM,6BACNC,KAAK,OACLC,QAAQ,YACRC,OAAO,eALT,SAOE,sBACEC,cAAc,QACdC,eAAe,QACfC,YAAY,IACZC,EAAE,gKAGN,uBACEC,IAAKtB,EACLrH,KAAK,OACLE,SAAU,SAAC9B,GAAD,OAAOgJ,EAAShJ,EAAE+B,OAAOyI,MAAM,KACzC3F,MAAO,CACL4F,WAAY,SACZrC,MAAO,EACPsC,OAAQ,EACRC,SAAU,iBAKhB,wBAAQnJ,UAAU,uCAAlB,SACE,qBACEA,UAAU,4CACVuI,MAAM,6BACNC,KAAK,OACLC,QAAQ,YACRC,OAAO,eALT,SAOE,sBACEC,cAAc,QACdC,eAAe,QACfC,YAAY,IACZC,EAAE,6HAIR,uBACEM,mBAAiB,2BACjB7F,YAAY,2BACZ8F,QAAS,kBAAMjC,EAAWO,EAAavF,EAAgBe,MACvDmG,OAAQ,kBAAMjC,KACdkC,WAAY,SAAC/K,GAAD,OA3DK,SAACA,GACR,UAAVA,EAAEgL,KACJxB,IAyDqByB,CAAejL,IAClCwB,UAAU,2JACVI,KAAK,OACLC,MAAOiF,EACPhF,SAAU,SAAC9B,GAAD,OAAO8I,EAAW9I,EAAE+B,OAAOF,QACrCF,KAAK,UACLM,UAAQ,IAEV,uBAAMT,UAAU,0BAAhB,UAA2CsF,EAAQV,OAAS,IAAMU,EAAQV,OAAS,cAAC,IAAD,CAAiB5E,UAAU,yBAA9G,UACA,wBACEY,QAASoH,EACThI,UAAU,kCACVI,KAAK,SAHP,SAKE,qBACEJ,UAAU,+EACVuI,MAAM,6BACNE,QAAQ,YACRD,KAAK,eAJP,SAME,sBAAMM,EAAE,sK,OCjGH,SAASY,EAAT,GAA6E,IAAvDC,EAAsD,EAAtDA,KAAMnH,EAAgD,EAAhDA,YAAaoH,EAAmC,EAAnCA,iBAAkBC,EAAiB,EAAjBA,cAQxE,OACE,mCACGF,GACC,qBAAK3J,UAAU,0FAAf,SACE,sBAAKA,UAAU,yDAAf,UACE,sBACEY,QAAS,kBAAMgJ,GAAkBC,IACjC7J,UAAU,mHAFZ,UAIE,cAAC,IAAD,CAAeA,UAAU,8CACzB,mBAAGA,UAAU,sCAAb,6BAIF,sBACEY,QAAS,kBAAM4B,GAAY,IAC3BxC,UAAU,kHAFZ,UAIE,cAAC,IAAD,CAAgBA,UAAU,8CAC1B,mBAAGA,UAAU,sCAAb,uBAEF,sBAAKY,QAAS,WA3BP,cAAXjB,SACFmK,IAAQC,OAAO,MAAO,CAAEC,QAAS,IACjCrK,OAAOC,SAAW,MAyBkBI,UAAU,kHAAxC,UACE,cAAC,IAAD,CAAYA,UAAU,6CACtB,mBAAGA,UAAU,sCAAb,sCCjCd,IA2EeiK,EA3EE,SAAC,GAA0B,IAAxBL,EAAuB,EAAvBA,iBAAuB,EACC1L,mBAAS,IADV,mBAClCgM,EADkC,KACnBC,EADmB,KAEnCpF,EAAQ6C,aAAY,SAACC,GAAD,OAAWA,EAAMuC,gBACrChI,EAAkBwF,aACtB,SAACC,GAAD,OAAWA,EAAMwC,iBAAiBjI,mBAMpC,OAJAlE,oBAAS,WACPiM,EAAiBrF,EAAiB1C,EAAiB2C,IACnDzF,QAAQC,IAAIuF,EAAiB1C,EAAiB2C,MAC7C,IAED,sBAAK/E,UAAU,oHAAf,UACE,sBAAKA,UAAU,+GAAf,UACE,qBAAKA,UAAU,YAAf,SACE,qBAAIA,UAAU,sDAAd,cACIoC,EAAgBjC,UAGtB,cAAC,IAAD,CACES,QAAS,kBAAMgJ,GAAiB,IAChC5J,UAAU,uDAId,8BACE,qBAAKA,UAAU,iBAAf,SACE,oBAAIA,UAAU,iCAAd,UACIwE,EAAQ0F,IACRA,EAAczG,KAAI,SAAC0B,GACjB,OACE,oBAAInF,UAAU,OAAd,SACE,sBAAKA,UAAU,8BAAf,UACE,qBAAKA,UAAU,gBAAf,SACE,qBACEA,UAAU,uBACVqB,IAAG,yBAAoB8D,EAAKwB,SAC5BrF,IAAI,OAGR,sBAAKtB,UAAU,iBAAf,UACE,mBAAGA,UAAU,6CAAb,SACGmF,EAAKnE,SAER,oBAAGhB,UAAU,iCAAb,cACImF,EAAKhH,MAAM+H,MAAM,KAAK,SAG5B,qBAAKlG,UAAU,OAAf,SACE,oBACEsK,KAAK,IACLtK,UAAU,6JAFZ,UAIE,cAAC,IAAD,CAAaA,UAAU,iBAJzB,iCC6HTuK,EAtKI,SAAC,GAAsC,IAApCnI,EAAmC,EAAnCA,gBAAiBI,EAAkB,EAAlBA,YAAkB,EACjBtE,mBAAS,IADQ,mBAChDsM,EADgD,KACnCC,EADmC,OAEvBvM,oBAAS,GAFc,mBAEhDwM,EAFgD,KAEtCC,EAFsC,OAGzBzM,mBAAS,MAHgB,mBAGhD0M,EAHgD,KAGvCC,EAHuC,OAI3B3M,oBAAS,GAJkB,mBAIhD4M,EAJgD,KAIxCC,EAJwC,OAKnB7M,oBAAS,GALU,mBAKhD8M,EALgD,KAKpCC,EALoC,OAMb/M,oBAAS,GANI,mBAMhD2L,EANgD,KAMjCD,EANiC,KAOjDzE,EAAOyC,aAAY,SAACC,GAAD,OAAWA,EAAMC,eACtCoD,EAAWtD,aAAY,SAACC,GAAD,OAAWA,EAAMsD,mBACtCpD,EAAStC,qBAAWyB,GACpB3E,EAAWE,cACX2I,EAAM3F,qBAAW3H,GACjB6I,EAAO,yBAAqBxB,EAAKwB,SACjC0E,EAAiB3D,iBAAO,MAC9B1B,qBAAU,WACRyE,EAAeS,GACfI,YAAW,WACsB,OAA3BD,EAAehD,SACjBgD,EAAehD,QAAQkD,eAAe,CACpCC,SAAU,aAGb,OACF,CAACN,EAAUG,IASdtD,EAAO0D,GAAG,cAAc,SAACtG,EAAMuG,GACzBvG,EAAKhC,MAAQiI,GAAOM,IAAsBtJ,EAAgBe,IAG5DmI,YAAW,WACTX,GAAY,KACX,KAEHA,GAAY,MAGhB5C,EAAO0D,GAAG,kBAAkB,WAC1Bd,GAAY,MAEd5C,EAAO0D,GAAG,eAAe,SAACnG,GACxB/C,ETxB0B,SAAC+C,GAC7B,OAAO,SAAC/C,GACNA,EAAS,CAAEnC,KAAMwB,EAAiBqB,QAASqC,KSsBlCqG,CAAerG,OAG1B,IAAMC,EAAc,SAACqG,GACnB,IAAMC,EAAO,yBAAqBD,GAClCf,EAAWgB,GACXvM,QAAQC,IAAIsM,GAEZd,GAAU,IAGZ,OACE,sBAAK/K,UAAU,0CAAf,UACE,qBACEA,UAAU,iCACVqD,MAAO,CAAEyI,UAAW,SAFtB,SAIE,qBAAK9L,UAAU,6BAAf,SACE,sBACEqD,MAAO,CAAE6F,OAAQ,QACjBlJ,UAAU,4CAFZ,UAIE,sBAAKA,UAAU,uEAAf,UACE,uBAAMA,UAAU,yDAAhB,cACIoC,EAAgBjC,QAGpB,sBAAKH,UAAU,OAAf,UACE,sBAAMA,UAAU,gDAAhB,SACE,qBAAK4G,MAAM,KAAKsC,OAAO,KAAvB,SACE,wBAAQ6C,GAAG,IAAIC,GAAG,IAAIC,EAAE,IAAIzD,KAAK,qBAGrC,qBACE5H,QAAS,kBAAMqK,GAAeD,IAC9BhL,UAAU,qDACVqB,IAAKsF,EAELrF,IAAI,mBAIV,sBAAKtB,UAAU,+CAAf,UACE,cAAC0J,EAAD,CACEC,KAAMqB,EACNpB,iBAAkBA,EAClBpH,YAAaA,EACbqH,cAAeA,IAEhBA,GACC,cAAC,EAAD,CAAUD,iBAAkBA,OAGhC,qBACE1J,GAAG,OACHF,UAAU,qDAFZ,SAIE,6BACGwK,EAAY,IACXA,EAAY/G,KAAI,SAAC6B,EAAS4G,GACxB,OAAI1B,EAAY5F,OAAS,IAAMsH,EAE3B,sBAAMnD,IAAKsC,EAAX,SACE,cAAC,EAAD,CACE/F,QAASA,EACTlD,gBAAiBA,EACjBmD,YAAaA,KAJeD,EAAQnC,KAUxC,cAAC,EAAD,CAEEmC,QAASA,EACTlD,gBAAiBA,EACjBmD,YAAaA,GAHRD,EAAQnC,YAU1BuH,GACC,sBAAKxK,GAAG,aAAR,UACE,mBAAGA,GAAG,QAAN,eACA,mBAAGA,GAAG,QAAN,eACA,mBAAGA,GAAG,QAAN,kBAIJ,cAAC,EAAD,CACEmH,eA9GW,WACrBU,EAAOI,KAAK,mBA8GFf,WAlHO,SAACjC,EAAMuG,GACxB3D,EAAOI,KAAK,aAAchD,EAAMuG,IAkHtBtJ,gBAAiBA,WAKxB0I,GACC,sBACE5K,GAAG,gBACHF,UAAU,8HAFZ,UAIE,cAAC,IAAD,CACEY,QAAS,kBAAMmK,GAAU,IACzB/K,UAAU,wFAEZ,qBACEA,UAAU,kDACVqB,IAAKuJ,EACLtJ,IAAI,YCpBD6K,EA5IK,SAAC,GAAqB,IAAnB3J,EAAkB,EAAlBA,YACf2C,EAAOyC,aAAY,SAACC,GAAD,OAAWA,EAAMC,eADH,EAEX5J,mBAASiH,EAAKnE,QAFH,mBAEhCA,EAFgC,KAExBC,EAFwB,OAGb/C,mBAASiH,EAAKhH,OAHD,mBAGhCA,EAHgC,KAGzBC,EAHyB,OAIPF,oBAAS,GAJF,mBAIhCkO,EAJgC,KAItBC,EAJsB,OAKbnO,mBAAS,IALI,mBAKhCqJ,EALgC,KAKzBC,EALyB,KAMjCjF,EAAWE,cAEX6J,EAAa,WACjB,IAAMnN,EAAO,IAAI8I,SACjB9I,EAAK+I,OAAO,SAAUlH,GACtB7B,EAAK+I,OAAO,OAAQX,GACpBpI,EAAK+I,OAAO,QAAS/J,GACrBoE,EhBPsB,SAACgK,EAAKpN,GAC9B,OAAO,SAACoD,GACP,OAAOzD,IAAM,CACXE,IAAI,GAAD,OAAKC,kDAAL,qBAA+CsN,GAClDxN,OAAQ,QACRI,SACCC,MAAK,SAAAC,GACNkD,EAAS,CAAEnC,KAAMvC,EAAaoF,QAAS5D,EAAIF,UAC1CU,OAAM,SAACC,GAAD,OAASR,QAAQC,IAAIO,OgBDpB0M,CAAWrH,EAAKhC,IAAKhE,IAC9BkN,GAAY,IAYd,OACE,qBAAKrM,UAAU,mHAAf,SACE,sBAAKA,UAAU,wHAAf,UACE,cAAC,IAAD,CACEY,QAAS,kBAAM4B,GAAY,IAC3BxC,UAAU,kDAEZ,qBAAKA,UAAU,gCAAf,SACE,0BAASA,UAAU,GAAGyM,kBAAgB,kBAAtC,UACE,oBACEvM,GAAG,kBACHF,UAAU,8DAFZ,yBAMA,sBAAKA,UAAU,2FAAf,UACE,sBAAKA,UAAU,kCAAf,UACE,oBAAIA,UAAU,uCAAd,qBAGA,oBAAIA,UAAU,oCAAd,SACE,8BACGoM,EACC,uBACEhM,KAAK,OACLD,KAAK,SACLD,GAAG,SACHG,MAAOW,EACPV,SAAU,SAAC9B,GAAD,OAAOyC,EAAUzC,EAAE+B,OAAOF,QACpCL,UAAU,2GACVuD,YAAa4B,EAAKnE,SAGpB,oBAAIhB,UAAU,eAAd,SAA8BmF,EAAKnE,gBAM3C,sBAAKhB,UAAU,kCAAf,UACE,sBAAKA,UAAU,oBAAf,UACE,cAAC,IAAD,CAAcA,UAAU,iBACxB,oBAAIA,UAAU,uCAAd,uBAIF,oBAAIA,UAAU,oCAAd,SACE,8BACGoM,EACC,uBACEhM,KAAK,OACLD,KAAK,QACLD,GAAG,QACHG,MAAOlC,EACPmC,SAAU,SAAC9B,GAAD,OAAOJ,EAASI,EAAE+B,OAAOF,QACnCL,UAAU,2GACVuD,YAAa4B,EAAKhH,QAGpB,oBAAI6B,UAAU,eAAd,SAA8BmF,EAAKhH,eAK3C,8BACE,wBACE6B,UAAS,UACPoM,EAAW,GAAK,eADT,sNAGTlM,GAAG,eAJL,UAME,qBACEF,UAAU,YACVwI,KAAK,eACLD,MAAM,6BACNE,QAAQ,YAJV,SAME,sBAAMK,EAAE,+IAEV,sBAAM9I,UAAU,gCAAhB,8BAGA,uBACEI,KAAK,OACLE,SAAU,SAAC9B,GAAD,OA9FP,SAACkO,GAEpB,IAAIC,EADJnF,EAASkF,GAETC,EAAaC,IAAIC,gBAAgBH,GACjC,IAAMI,EAAWnO,SAASoO,eAAe,gBACzCD,EAASzJ,MAAM2J,WAAf,cAAmCL,EAAnC,KACAG,EAASzJ,MAAM4J,eAAiB,QAChCH,EAASzJ,MAAM6J,mBAAqB,SAuFHC,CAAa3O,EAAE+B,OAAOyI,MAAM,KAC7ChJ,UAAU,gBAIfoM,EACC,yBACExL,QAAS,kBAAM0L,KACftM,UAAU,8MAFZ,UAIE,sBAAMA,UAAU,+BAAhB,qBACA,cAAC,IAAD,CAAgBA,UAAU,0BAG5B,yBACEY,QAAS,kBAAMyL,GAAY,IAC3BrM,UAAU,4MAFZ,UAIE,sBAAMA,UAAU,+BAAhB,sBACA,cAAC,IAAD,CAAYA,UAAU,wCCzFzBoN,EAxCF,WACX,IAAMb,EAAM9G,qBAAW3H,GACjBuP,EAAiBzF,aAAY,SAACC,GAAD,OAAWA,EAAMwC,oBAFnC,EAG2BnM,oBAAS,GAHpC,mBAGVmE,EAHU,KAGMC,EAHN,OAIepE,oBAAS,GAJxB,mBAIVoP,EAJU,KAIA9K,EAJA,KAMjB,OACE,gCACG+J,EACC,sBAAKvM,UAAU,WAAWqD,MAAO,CAAEuD,MAAO,QAASsC,OAAQ,SAA3D,UACE,qBACEtI,QAAS,SAACpC,GAAD,OAAO8D,GAAmBD,IACnCrC,UAAS,sBAAiBqC,EAAiB,UAAY,YAFzD,SAIE,2BAEF,cAACH,EAAD,CACEG,eAAgBA,EAChBC,kBAAmBA,EACnBH,UAAWkL,EAAelL,UAC1BC,gBAAiBiL,EAAejL,gBAChCI,YAAaA,IAEdgC,EAAQ6I,EAAejL,iBACtB,uCAEA,cAAC,EAAD,CACEI,YAAaA,EACbJ,gBAAiBiL,EAAejL,qBAKtC,cAACjB,EAAD,IAEDmM,GAAY,cAAC,EAAD,CAAa9K,YAAaA,Q,iBCS9B+K,MA3Cf,WAAgB,IAAD,EACSrP,mBAAS,MADlB,mBACNqO,EADM,KACDiB,EADC,KAEPjL,EAAWE,cAFJ,EAGevE,mBAAS,MAHxB,mBAGN6J,EAHM,KAGE0F,EAHF,KA8Bb,OAzBAzH,qBAAU,YACQ,uCAAG,sBAAA9E,EAAA,sEACXpC,IAAM,CACVC,OAAQ,MACRC,IAAI,GAAD,OAAKC,kDAAL,SACHC,iBAAiB,EACjB,8BAA+B,IAC/B,+BAAgC,sCAE/BE,MAAK,SAACC,GACLmO,EAAOnO,EAAIF,MACX,IAAMuO,EAAYC,IAAG,GAAD,OAAI1O,oDACxBwO,EAAUC,MAEX7N,OAAM,SAACC,GACNR,QAAQC,IAAI,UAAYO,MAdX,2CAAH,qDAiBhB8N,GACIrB,GACFhK,ElB/BiB,SAACgK,GACtB,OAAO,SAAChK,GACN,OAAOzD,IACJ+O,IADI,UACG5O,kDADH,qBAC6CsN,IACjDnN,MAAK,SAACC,GACLkD,EAAS,CAAEnC,KAAMxC,EAAUqF,QAAS5D,EAAIF,UAEzCU,OAAM,SAACC,GAAD,OAASR,QAAQC,IAAIO,OkBwBnBgO,CAAQvB,MAElB,CAACA,EAAKhK,IAIP,cAAC,IAAD,UACE,cAAC,IAAD,UACE,cAAC2E,EAAc6G,SAAf,CAAwB1N,MAAO0H,EAA/B,SACE,cAACjK,EAAWiQ,SAAZ,CAAqB1N,MAAOkM,EAA5B,SACE,cAAC,IAAD,CAAOyB,OAAK,EAACC,KAAK,IAAIC,UAAWd,a,gBC5CvCe,EAAe,GCAd,IAAMC,EAAgB,gBCAvBD,EAAe,G,qBCAfA,GAAe,CACnB/L,gBAAiB,GACjBD,UAAW,ICFb,IAAMgM,GAAe,GCINE,iCAAgB,CAC7BvG,YLHa,WAAoD,IAA/BD,EAA8B,uDAAtBsG,EAAcG,EAAQ,uCAChE,OAAQA,EAAOlO,MACb,KAAKxC,EAEL,KAAKC,EACH,OAAOyQ,EAAOrL,QAChB,QACE,OAAO4E,IKHXuC,aHJa,WAAqD,IAA/BvC,EAA8B,uDAAtBsG,EAAcG,EAAQ,uCACjE,OAAQA,EAAOlO,MACb,KAAKgO,EACH,OAAOE,EAAOrL,QAChB,QACE,OAAO4E,IGAXwC,iBFFa,WAAyD,IAA/BxC,EAA8B,uDAAtBsG,GAAcG,EAAQ,uCACrE,OAAQA,EAAOlO,MACb,KAAKmB,EACH,OAAO,6BACFsG,GADL,IAEE1F,UAAWmM,EAAOrL,UAEtB,KAAKzB,EACH,OAAO,6BACFqG,GADL,IAEEzF,gBAAiBkM,EAAOrL,UAE5B,KAAKxB,EACH,IAAM8M,EAAQ,YAAO1G,EAAM1F,WAE3B,OADAoM,EAASnJ,KAAKkJ,EAAOrL,SACd,6BACF4E,GADL,IAEE1F,UAAWoM,IAEf,QACE,OAAO1G,IEjBXsD,gBDNa,WAAwD,IAA/BtD,EAA8B,uDAAtBsG,GAAcG,EAAQ,uCACpE,OAAQA,EAAOlO,MACb,KAAKuB,EACH,OAAO2M,EAAOrL,QAChB,KAAKvB,EACH,IAAI6M,EAAQ,YAAO1G,GAEnB,OADA0G,EAASnJ,KAAKkJ,EAAOrL,SACdsL,EACT,KAAK3M,EACH,IAAI4M,EAAO3G,EAAM9F,QAAO,SAACuD,GAAD,OAAaA,EAAQnC,MAAQmL,EAAOrL,QAAQE,OACpE,GAAIqL,EAAK5J,OAAS,EAChB,OAAOiD,EAEP,IAAI0G,EAAQ,YAAO1G,GAEnB,OADA0G,EAASnJ,KAAKkJ,EAAOrL,SACdsL,EAEX,QACE,OAAO1G,M,SETP4G,GAAQC,sBAAYC,GAAaC,+BAAoBC,0BAAgBC,OAC3EL,GAAMlM,ULTG,SAACA,GACN,OAAOzD,IACJ+O,IADI,UACG5O,kDADH,cAEJG,MAAK,SAACC,GACLkD,EAAS,CACPnC,KAAMgO,EACNnL,QAAS5D,EAAIF,UAGhBU,OAAM,SAACC,GAAD,OAASR,QAAQC,IAAIO,SKClC2O,GAAMlM,UpBRG,SAACA,GACN,OAAOzD,IAAM+O,IAAN,UAAa5O,kDAAb,kBACJG,MAAK,SAAAC,GACJkD,EAAS,CAAEnC,KAAMmB,EAAmB0B,QAAS5D,EAAIF,UAChDU,OAAM,SAAAC,GAAG,OAAIR,QAAQC,IAAIO,SoBKlCiP,IAASC,OACL,cAAC,IAAD,CAAUP,MAAOA,GAAjB,SACE,cAAC,EAAD,MAEJ9P,SAASoO,eAAe,U","file":"static/js/main.007cd4d9.chunk.js","sourcesContent":["import axios from \"axios\";\n\nexport const GET_USER = \"GET_USER\";\nexport const UPDATE_USER = \"UPDATE_USER\";\n\nexport const getUser = (uid) => {\n  return (dispatch) => {\n    return axios\n      .get(`${process.env.REACT_APP_API_URL}api/users/${uid}`)\n      .then((res) => {\n        dispatch({ type: GET_USER, payload: res.data });\n      })\n      .catch((err) => console.log(err));\n  };\n};\n\nexport const updateUser = (uid, data) => {\n  return (dispatch) => {\n   return axios({\n     url: `${process.env.REACT_APP_API_URL}api/users/${uid}`,\n     method: \"PATCH\",\n     data\n   }).then(res => {\n     dispatch({ type: UPDATE_USER, payload: res.data })\n   }).catch((err) => console.log(err));\n }  \n}","import { createContext } from \"react\";\n\n\nexport const UidContext = createContext();","import React, { useState } from \"react\";\nimport { XCircleIcon } from \"@heroicons/react/solid\";\nimport axios from \"axios\";\n\nconst SignIn = ({ setLogin }) => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const errors = document.querySelector(\"#error-field\");\n    const errorDiv = document.querySelector(\"#error-div\");\n    axios({\n      method: \"post\",\n      url: `${process.env.REACT_APP_API_URL}api/users/login`,\n      withCredentials: true,\n      data: {\n        email,\n        password,\n      },\n    })\n      .then((res) => {\n        console.log(res.data);\n        if (res.data.error) {\n          errorDiv.setAttribute(\"hidden\", \"\");\n          errors.innerHTML = res.data.errors.email;\n          errors.innerHTML += res.data.errors.password;\n        } else {\n          window.location = \"/\"; //ALler a l'accueil\n        }\n      })\n      .catch((err) => console.log(err));\n  };\n\n  return (\n    <form onSubmit={(e) => handleSubmit(e)} className=\"space-y-6\">\n      <div>\n        <label\n          htmlFor=\"email\"\n          className=\"block text-md font-medium text-gray-700\"\n        >\n          Email\n        </label>\n        <div className=\"mt-1\">\n          <input\n            id=\"email\"\n            name=\"email\"\n            type=\"email\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            autoComplete=\"email\"\n            required\n            className=\"appearance-none block w-full px-3 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-md\"\n          />\n        </div>\n      </div>\n\n      <div className=\"space-y-1\">\n        <label\n          htmlFor=\"password\"\n          className=\"block text-md font-medium text-gray-700\"\n        >\n          Mot de passe\n        </label>\n        <div className=\"mt-1\">\n          <input\n            id=\"password\"\n            name=\"password\"\n            type=\"password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            autoComplete=\"current-password\"\n            required\n            className=\"appearance-none block w-full px-3 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-md\"\n          />\n        </div>\n      </div>\n      {/* error message */}\n      <div hidden id=\"error-div\" className=\"rounded-md  bg-red-50 p-4\">\n        <div className=\"flex\">\n          <div className=\"flex-shrink-0\">\n            <XCircleIcon className=\"h-5 w-5 text-red-400\" aria-hidden=\"true\" />\n          </div>\n          <div className=\"ml-3\">\n            <h3 id=\"error-field\" className=\"text-sm font-medium text-red-800\">\n              \n            </h3>\n          </div>\n        </div>\n      </div>\n      {/* end error */}\n      <div>\n        <button\n          type=\"submit\"\n          className=\"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-md font-medium text-white bg-green-600 hover:bg-green-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n        >\n          Se connecter\n        </button>\n      </div>\n      <div>\n        <div className=\"mt-6 relative\">\n          <div\n            className=\"absolute inset-0 flex items-center\"\n            aria-hidden=\"true\"\n          >\n            <div className=\"w-full border-t border-gray-500\" />\n          </div>\n          <div\n            onClick={() => setLogin(false)}\n            className=\"relative cursor-pointer flex justify-center text-lg\"\n          >\n            <span className=\"px-2 pb-2 bg-white text-green-500\">\n              pas encore inscrit ?\n            </span>\n          </div>\n        </div>\n      </div>\n    </form>\n  );\n};\n\nexport default SignIn;\n","import { XCircleIcon } from '@heroicons/react/solid';\nimport axios from 'axios';\nimport React, { useState } from 'react';\n\nconst SignUp = ({ setLogin }) => {\n  const [email, setEmail] = useState(\"\")\n  const [password, setPassword] = useState(\"\");\n  const [passwordConfirm, setPasswordConfirm] = useState(\"\");\n  const [pseudo, setPseudo] = useState(\"\");\n  \n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const errors = document.querySelector(\"#error-field\");\n    const errorDiv = document.querySelector(\"#error-div\");\n    await axios({\n      method: \"POST\",\n      url: `${process.env.REACT_APP_API_URL}api/users/register`,\n      data: {\n        pseudo,\n        email,\n        password,\n      },\n    }).then((res) => {\n        if (res.data.errors) {\n          errorDiv.setAttribute(\"hidden\", \"\");\n          errors.innerHTML = res.data.errors.pseudo;\n          errors.innerHTML += res.data.errors.email;\n          errors.innerHTML += res.data.errors.password;\n        } else {\n          setLogin(true)\n        }\n      })\n      .catch((err) => console.log(err));\n  };\n  \n  return (\n    <form onSubmit={(e) => handleSubmit(e)} className=\"space-y-6\">\n      <div>\n        <label\n          htmlFor=\"pseudo\"\n          className=\"block text-md font-medium text-gray-700\"\n        >\n          Pseudo\n        </label>\n        <div className=\"mt-1\">\n          <input\n            id=\"pseudo\"\n            name=\"pseudo\"\n            type=\"text\"\n            value={pseudo}\n            onChange={(e) => setPseudo(e.target.value)}\n            required\n            className=\"appearance-none block w-full px-3 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-md\"\n          />\n        </div>\n      </div>\n      <div className=\"space-y-1\">\n        <label\n          htmlFor=\"email\"\n          className=\"block text-md font-medium text-gray-700\"\n        >\n          Email\n        </label>\n        <div className=\"mt-1\">\n          <input\n            id=\"email\"\n            name=\"email\"\n            type=\"email\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            autoComplete=\"email\"\n            required\n            className=\"appearance-none block w-full px-3 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-md\"\n          />\n        </div>\n      </div>\n\n      <div className=\"space-y-1\">\n        <label\n          htmlFor=\"password\"\n          className=\"block text-md font-medium text-gray-700\"\n        >\n          Mot de passe\n        </label>\n        <div className=\"mt-1\">\n          <input\n            id=\"password\"\n            name=\"password\"\n            type=\"password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            required\n            className=\"appearance-none block w-full px-3 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-md\"\n          />\n        </div>\n      </div>\n      <div className=\"space-y-1\">\n        <label\n          htmlFor=\"passwordConfirm\"\n          className=\"block text-md font-medium text-gray-700\"\n        >\n          Confirmer le mot de passe\n        </label>\n        <div className=\"mt-1\">\n          <input\n            id=\"passwordConfirm\"\n            name=\"passwordConfirm\"\n            type=\"password\"\n            value={passwordConfirm}\n            onChange={(e) => setPasswordConfirm(e.target.value)}\n            required\n            className=\"appearance-none block w-full px-3 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-md\"\n          />\n        </div>\n      </div>\n\n      <div hidden id=\"error-div\" className=\"rounded-md  bg-red-50 p-4\">\n        <div className=\"flex\">\n          <div className=\"flex-shrink-0\">\n            <XCircleIcon className=\"h-5 w-5 text-red-400\" aria-hidden=\"true\" />\n          </div>\n          <div className=\"ml-3\">\n            <h3\n              id=\"error-field\"\n              className=\"text-sm font-medium text-red-800\"\n            ></h3>\n          </div>\n        </div>\n      </div>\n\n      <div>\n        <button\n          type=\"submit\"\n          className=\"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-md font-medium text-white bg-green-600 hover:bg-green-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n        >\n          S'inscrire\n        </button>\n      </div>\n      <div>\n        <div className=\"mt-6 relative\">\n          <div\n            className=\"absolute inset-0 flex items-center\"\n            aria-hidden=\"true\"\n          >\n            <div className=\"w-full border-t border-gray-500\" />\n          </div>\n          <div\n            onClick={() => setLogin(true)}\n            className=\"relative cursor-pointer flex justify-center text-lg\"\n          >\n            <span className=\"px-2 pb-2 bg-white text-green-500\">\n              Déja inscrit ?\n            </span>\n          </div>\n        </div>\n      </div>\n    </form>\n  );\n};\n\nexport default SignUp;","import { useState } from \"react\";\nimport SignIn from \"./SignIn\";\nimport SignUp from \"./SignUp\";\n\nexport default function Login() {\n  const [login, setLogin] = useState(true);\n  \n  return (\n    <div className=\"min-h-screen bg-white flex\">\n      <div className=\"flex-1 flex flex-col justify-center py-12 px-4 sm:px-6 lg:flex-none lg:px-20 xl:px-24\">\n        <div className=\"mx-auto w-full max-w-sm lg:w-96\">\n          <div>\n            <h2 className=\"mt-6 text-center text-4xl font-extrabold text-gray-900\">\n              {login ? \"Connexion\" : \"Inscription\"}\n            </h2>\n          </div>\n\n          <div className=\"mt-8\">\n            <div className=\"mt-6\">\n              {login ? (\n                <SignIn setLogin={setLogin} />\n              ) : (\n                <SignUp setLogin={setLogin} />\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"hidden lg:block relative w-0 flex-1\">\n        <img\n          className=\"absolute inset-0 h-full w-full object-cover\"\n          src=\"https://images.unsplash.com/photo-1482784160316-6eb046863ece?ixid=MnwxMjA3fDB8MHxzZWFyY2h8MzF8fHNub3d8ZW58MHx8MHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1200&q=60\"\n          alt=\"\"\n        />\n      </div>\n    </div>\n  );\n}\n","import axios from \"axios\";\n\nexport const GET_ALL_CHATROOMS = \"GET_ALL_CHATROOMS\";\nexport const CHANGE_CURRENT = \"CHANGE_CURRENT\";\nexport const CREATE_CHATROOM = \"CREATE_CHATROOM\";\n\nexport const getAllChatrooms = () => {\n  return (dispatch) => {\n    return axios.get(`${process.env.REACT_APP_API_URL}api/chatrooms`)\n      .then(res => {\n        dispatch({ type: GET_ALL_CHATROOMS, payload: res.data })\n      }).catch(err => console.log(err));\n    \n  }\n}\n\nexport const changeCurrent = (chatroom) => {\n  return (dispatch) => {\n    dispatch({type: CHANGE_CURRENT, payload: chatroom})\n  }\n}\n\nexport const createChatroom = (name) => {\n  return (dispatch) => {\n    return axios(`${process.env.REACT_APP_API_URL}api/chatrooms`, {\n      method: \"POST\",\n      data: {\n        name: name,\n      },\n    })\n      .then((res) => {\n        dispatch({ type: CREATE_CHATROOM, payload: res.data })\n      })\n      .catch((err) => console.log(err));\n  }\n}\n\n","import axios from \"axios\";\n\nexport const SEND_MESSAGE = \"SEND_MESSAGE\";\nexport const GET_ALL_MESSAGES = \"GET_ALL_MESSAGES\";\nexport const SOCKET_MESSAGES = \"SOCKET_MESSAGES\";\n\nexport const sendMessage = (chatroomId, data, socket) => {\n  return (dispatch) => {\n    return axios({\n      url: `${process.env.REACT_APP_API_URL}api/chatrooms/${chatroomId}/messages`,\n      method: \"POST\",\n      data,\n    })\n      .then((res) => {\n        dispatch({ type: SEND_MESSAGE, payload: res.data });\n        socket.emit(\"newMessage\", res.data);\n      })\n      .catch((err) => console.log(err));\n  };\n};\n\nexport const getAllMessages = (chatroomId) => {\n  return (dispatch) => {\n    return axios({\n      url: `${process.env.REACT_APP_API_URL}api/chatrooms/${chatroomId}/messages`,\n      method: \"GET\",\n    }).then((res) => {\n      console.log(res);\n      dispatch({ type: GET_ALL_MESSAGES, payload: res.data })\n    }).catch((err) => {\n      console.log(err);\n    });\n  }\n}\n\nexport const socketMessages = (message) => {\n  return (dispatch) => {\n    dispatch({ type: SOCKET_MESSAGES, payload: message });\n  }\n}","/* This example requires Tailwind CSS v2.0+ */\nimport { ChatIcon, XIcon } from \"@heroicons/react/outline\";\nimport {\n  LogoutIcon,\n  PlusCircleIcon,\n  UserCircleIcon,\n} from \"@heroicons/react/solid\";\nimport cookie from \"js-cookie\";\nimport { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { changeCurrent, createChatroom } from \"./redux/actions/chatroomsAction\";\nimport { getAllMessages } from \"./redux/actions/messagesAction\";\nimport LogoChat from \"./assets/logoChat.png\";\n\nfunction classNames(...classes) {\n  return classes.filter(Boolean).join(\" \");\n}\n\nexport default function Navbar({\n  chatrooms,\n  currentChatroom,\n  mobileMenuOpen,\n  setMobileMenuOpen,\n  setEditUser,\n}) {\n  const dispatch = useDispatch();\n  const [createCanal, setCreateCanal] = useState(false);\n  const [canalName, setCanalName] = useState(\"\");\n\n  const changeCurrentChatroom = (chatroom) => {\n    dispatch(changeCurrent(chatroom));\n    dispatch(getAllMessages(chatroom._id));\n  };\n\n  const handleCreateCanal = () => {\n    if (!createCanal) {\n      setCreateCanal(true);\n    } else {\n      if (canalName !== \"\") {\n        dispatch(createChatroom(canalName));\n        setCanalName(\"\");\n        setCreateCanal(false);\n      } else {\n        setCreateCanal(false);\n      }\n    }\n  };\n  \n\n  return (\n    <div\n      id={`${mobileMenuOpen ? \"navbar-open\" : \"navbar\"}`}\n      className=\"flex flex-col border-r relative border-gray-200 h-full pt-5 pb-4 bg-white overflow-y-auto\"\n    >\n      <div id=\"close-menu\">\n        <XIcon\n          onClick={() => setMobileMenuOpen(false)}\n          className=\"h-10 w-1O text-right cursor-pointer text-gray-700\"\n        />\n      </div>\n      <div className=\"flex items-center justify-center flex-shrink-0 px-4\">\n        <h2 className=\"text-3xl\" style={{ fontFamily: \"cursive\" }}>\n          Messenger\n        </h2>\n        <img\n          className=\"h-8 w-auto rounded-md ml-3\"\n          src={LogoChat}\n          alt=\"Workflow\"\n        />\n      </div>\n      <div\n        style={{ fontFamily: \"cursive\" }}\n        className=\"flex w-5/6  items-center justify-center rounded-xl my-5 mx-auto\"\n      >\n        {createCanal ? (\n          <input\n            type=\"text\"\n            name=\"namel\"\n            id=\"name\"\n            value={canalName}\n            onChange={(e) => setCanalName(e.target.value)}\n            className=\"shadow-sm w-3/4 mx-auto focus:ring-green-500 focus:border-green-500 block sm:text-sm border-gray-300 rounded-md\"\n            placeholder=\"Nom du canal\"\n          />\n        ) : (\n          <span className=\"text-lg\">Ajouter un canal</span>\n        )}\n        <PlusCircleIcon\n          onClick={() => handleCreateCanal()}\n          className=\"cursor-pointer flex-shrink-0 text-green-400 ml-2 hover:text-green-700 h-10 w-1O rounded-full transition-colors\"\n        />\n      </div>\n      <div className=\"mt-5 flex-grow flex flex-col\">\n        <nav className=\"flex-1 px-2 bg-white space-y-1\" aria-label=\"Sidebar\">\n          {chatrooms &&\n            chatrooms.map((item) => (\n              <p\n                onClick={() => changeCurrentChatroom(item)}\n                key={item.name}\n                className={classNames(\n                  item._id === currentChatroom._id\n                    ? \"bg-gray-100 text-gray-900\"\n                    : \"text-gray-600 hover:bg-green-50 hover:text-gray-900\",\n                  \"group flex cursor-pointer items-center px-2 py-2 text-sm font-medium rounded-md\"\n                )}\n              >\n                <ChatIcon className=\"mr-3 flex-shrink-0 h-6 w-6\" />\n                <span className=\"flex-1 text-center text-base\ttext-green-800 font-medium text-lg font-large\">\n                  {item.name}\n                </span>\n              </p>\n            ))}\n        </nav>\n      </div>\n\n    </div>\n  );\n}\n","export default \"data:image/png;base64,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\"","export const dateParser = (dateToParse) => {\n  let options = {\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    weekday: \"long\",\n    // year: \"numeric\",\n    month: \"short\",\n    day: \"numeric\",\n  };\n\n  let timestamp = Date.parse(dateToParse);\n  let date = new Date(timestamp).toLocaleDateString(\"fr-FR\", options);\n  return date.toString();\n};\n\nexport const timestampParser = (time) => {\n  let options = {\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    weekday: \"short\",\n    //  year: \"numeric\",\n    month: \"short\",\n    day: \"numeric\",\n  };\n  let date = new Date(time).toLocaleDateString(\"fr-FR\", options);\n  return date.toString();\n};\n\nexport const isEmpty = (value) => {\n  // SI VALUE est vide return true\n  return (\n    value === undefined ||\n    value === null ||\n    (typeof value === \"object\" && Object.keys(value).length === 0) ||\n    (typeof value === \"string\" && value.trim().length === 0)\n  );\n};\n\nexport const youtubeVideo = (message) => {\n  let findLink = message.split(\" \");\n  for (let i = 0; i < findLink.length; i++) {\n    if (\n      findLink[i].includes(\"https://www.yout\") ||\n      findLink[i].includes(\"https://yout\")\n    ) {\n      let embed = findLink[i].replace(\"watch?v=\", \"embed/\");\n      const result = {\n        youtubeLink: embed,\n        originalLink: message\n      }\n      return result;\n    } else return null;\n  }\n};\nexport const getChatroomUsers = (currentChatroom, users) => {\n  const userIds = currentChatroom.userIds;\n  let result = [];\n  userIds.forEach((id) => {\n    users.forEach(user => {\n      if (id === user._id) {\n        result.push(user);\n      }\n    });\n  });\n  return result;\n };","import React, { useContext, useEffect, useState } from \"react\";\nimport { UidContext } from \"../../context/appContext\";\nimport { dateParser, youtubeVideo } from \"../../utils\";\n\nconst Message = ({ message, currentChatroom, fullViewImg }) => {\n  const currentUserId = useContext(UidContext);\n  const isAuthor = currentUserId === message.senderId;\n  const [video, setVideo] = useState()\n  const [currentMessage, setCurrentMessage] = useState(message.content);\n  useEffect(() => {\n    let video = youtubeVideo(message.content);\n    if (video !== null) {\n      setVideo(video.youtubeLink);\n      setCurrentMessage(message.content.replace(video.originalLink, \"\"));\n    }\n  }, [message]);\n  return (\n    <>\n      {isAuthor ? (\n        <li className=\"w-full flex justify-end\">\n          <div\n            className=\"bg-green-100 pb-8 rounded px-5 py-2 my-2 text-gray-700 relative\"\n            style={{ maxWidth: \"300px\" }}\n          >\n            <span className=\"block font-bold text-medium\">\n              {message.author}:\n            </span>\n            <span className=\"block overflow-x-hidden overflow-ellipsis\">\n              {currentMessage}\n            </span>\n            {message.picture && (\n              <img\n                onClick={() => fullViewImg(message.picture)}\n                id=\"img-message\"\n                className=\"h-4/5 pb-10 mx-auto shadow-lg  rounded-sm my-2\"\n                src={`/uploads/users/${message.picture}`}\n                alt={message.content}\n              />\n            )}\n            {video && (\n              <iframe\n                src={video}\n                style={{ width: \"100%\" }}\n                frameborder=\"0\"\n                allow=\"accelerometer; autoplay; clipboard-write; encrypted-media;\n                    gyroscope; picture-in-picture\"\n                allowFullScreen\n                title={video}\n              ></iframe>\n            )}\n            <span className=\"block text-xs text-right\">\n              {dateParser(message.createdAt)}\n            </span>\n          </div>\n        </li>\n      ) : (\n        <li className=\"w-full flex justify-start\">\n          <div\n            className=\"bg-gray-100 rounded px-5 pb-8 py-2 my-2 text-gray-700 relative\"\n            style={{ maxWidth: \"300px\" }}\n          >\n            <span className=\"block font-bold text-green-800 text-medium\">\n              {message.author}:\n            </span>\n            <span className=\"block overflow-x-hidden overflow-ellipsis\">\n              {currentMessage}\n            </span>\n            {message.picture && (\n              <img\n                onClick={() => fullViewImg(message.picture)}\n                id=\"img-message\"\n                className=\"h-4/5 pb-10 mx-auto shadow-lg  rounded-sm my-2\"\n                src={`/uploads/users/${message.picture}`}\n                alt={message.content}\n              />\n            )}\n            {video && (\n              <iframe\n                src={video}\n                style={{ width: \"100%\" }}\n                className=\"py-3\"\n                frameborder=\"0\"\n                allow=\"accelerometer; autoplay; clipboard-write; encrypted-media;\n                    gyroscope; picture-in-picture\"\n                allowFullScreen\n                title={video}\n              ></iframe>\n            )}\n            <span className=\"block text-xs text-right\">\n              {dateParser(message.createdAt)}\n            </span>\n          </div>\n        </li>\n      )}\n    </>\n  );\n};\n\nexport default Message;\n","import { createContext } from \"react\";\n\n\nexport const socketContext = createContext();","import React, { useContext, useState, useRef } from \"react\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport { socketContext } from '../../context/socketContext';\nimport { sendMessage } from '../../redux/actions/messagesAction';\nimport { ExclamationIcon } from \"@heroicons/react/solid\";\nconst MessageForm = ({ currentChatroom, userTyping, userStopTyping }) => {\n  const [message, setMessage] = useState(\"\");\n  const [image, setImage] = useState(null);\n  const fieldRef = useRef();\n  const dispatch = useDispatch();\n  const currentUser = useSelector((state) => state.userReducer);\n  const socket = useContext(socketContext);\n  \n  const handleClick = () => {\n    const data = new FormData();\n    data.append(\"file\", image);\n    data.append(\"content\", message);\n    data.append(\"pseudo\", currentUser.pseudo);\n    data.append(\"chatroom\", currentChatroom._id);\n    data.append(\"senderId\", currentUser._id);\n    dispatch(\n      sendMessage(currentChatroom._id, data, socket)\n    );\n    setMessage(\"\");\n  };\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      handleClick();\n    }\n  }\n  return (\n    <div className=\"w-full py-7  px-5 flex items-center  border-t border-gray-300\">\n      <button\n        onClick={() => fieldRef.current.click()}\n        className=\"outline-none stroke-current hover:text-green-600 focus:outline-none\"\n      >\n        <svg\n          className=\"text-green-400 hover:text-green-600 h-7 w-7\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          fill=\"none\"\n          viewBox=\"0 0 24 24\"\n          stroke=\"currentColor\"\n        >\n          <path\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth=\"2\"\n            d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\"\n          />\n        </svg>\n        <input\n          ref={fieldRef}\n          type=\"file\"\n          onChange={(e) => setImage(e.target.files[0])}\n          style={{\n            visibility: \"hidden\",\n            width: 0,\n            height: 0,\n            position: \"absolute\",\n          }}\n        />\n      </button>\n\n      <button className=\"outline-none focus:outline-none ml-1\">\n        <svg\n          className=\"text-gray-400 hover:text-gray-600 h-7 w-7\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          fill=\"none\"\n          viewBox=\"0 0 24 24\"\n          stroke=\"currentColor\"\n        >\n          <path\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth=\"2\"\n            d=\"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13\"\n          />\n        </svg>\n      </button>\n      <input\n        aria-placeholder=\"Ecrivez votre message...\"\n        placeholder=\"Ecrivez votre message...\"\n        onFocus={() => userTyping(currentUser, currentChatroom._id)}\n        onBlur={() => userStopTyping()}\n        onKeyPress={(e) => handleKeyPress(e)}\n        className=\"py-2 mx-3 pl-5 block w-full rounded-full bg-gray-100 outline-none focus:ring-green-500 focus:border-green-500 border border-gray-300 focus:text-gray-700\"\n        type=\"text\"\n        value={message}\n        onChange={(e) => setMessage(e.target.value)}\n        name=\"message\"\n        required\n      />\n      <span className=\"flex items-center  mr-3\">{message.length < 200 ? message.length : <ExclamationIcon className=\"h-5 w-5 text-red-500\"/> }/200</span>\n      <button\n        onClick={handleClick}\n        className=\"outline-none focus:outline-none\"\n        type=\"submit\"\n      >\n        <svg\n          className=\"text-gray-400 h-7 w-7 hover:text-green-600 origin-center transform rotate-90\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          viewBox=\"0 0 20 20\"\n          fill=\"currentColor\"\n        >\n          <path d=\"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z\" />\n        </svg>\n      </button>\n    </div>\n  );\n};\n\nexport default MessageForm;","import {\n  UserGroupIcon,\n  LogoutIcon,\n  UserCircleIcon,\n} from \"@heroicons/react/solid\";\nimport Cookies from \"js-cookie\";\n\nexport default function FlyoutChat({ open, setEditUser, setOpenUsersChat, openUsersChat }) {\n  const logout = () => {\n    if (window !== \"undefined\") {\n      Cookies.remove(\"jwt\", { expires: 1 });\n      window.location = \"/\";\n    }\n  };\n\n  return (\n    <>\n      {open && (\n        <div className=\"rounded-lg rounded-r-sm w-52 shadow-lg ring-1 ring-black ring-opacity-5 overflow-hidden\">\n          <div className=\"relative grid gap-6 bg-white px-5 py-6 sm:gap-8 sm:p-8\">\n            <div\n              onClick={() => setOpenUsersChat(!openUsersChat)}\n              className=\"-m-5 p-3 cursor-pointer\tflex items-center block rounded-md hover:bg-gray-50 transition ease-in-out duration-150\"\n            >\n              <UserGroupIcon className=\"flex-shrink-0 h-6 w-6 mr-3 text-green-600\" />\n              <p className=\"text-base font-medium text-gray-900\">\n                Utilisateurs\n              </p>\n            </div>\n            <div\n              onClick={() => setEditUser(true)}\n              className=\"-m-5 p-3 cursor-pointer flex items-center block rounded-md hover:bg-gray-50 transition ease-in-out duration-150\"\n            >\n              <UserCircleIcon className=\"flex-shrink-0 h-6 w-6 mr-3 text-green-600\" />\n              <p className=\"text-base font-medium text-gray-900\">Profil</p>\n            </div>\n            <div onClick={() => logout()} className=\"-m-5 p-4 cursor-pointer flex items-center block rounded-md hover:bg-gray-50 transition ease-in-out duration-150\">\n              <LogoutIcon className=\"flex-shrink-0 h-6 w-6 mr-3 text-gray-600\" />\n              <p className=\"text-base font-medium text-gray-900\">Déconnexion</p>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n}\n","import { ChatAltIcon, XIcon } from '@heroicons/react/solid';\nimport React, { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { getChatroomUsers, isEmpty } from '../../utils';\n\nconst UserChat = ({ setOpenUsersChat }) => {\n  const [chatroomUsers, setChatroomUsers] = useState([]);\n  const users = useSelector((state) => state.usersReducer);\n  const currentChatroom = useSelector(\n    (state) => state.chatroomsReducer.currentChatroom\n  );\n  useState(() => {\n    setChatroomUsers(getChatroomUsers(currentChatroom, users));\n    console.log(getChatroomUsers(currentChatroom, users));\n  }, []);\n  return (\n    <div className=\"bg-white absolute top-24 h-80 shadow-xl right-96 rounded-sm p-6 bg-gray-200 w-80 border-b border-gray-200 sm:px-6\">\n      <div className=\"-ml-4 relative -mt-2 flex items-center pb-3 border-gray-300 justify-center border-b flex-wrap sm:flex-nowrap\">\n        <div className=\"ml-4 mt-2\">\n          <h3 className=\"text-xl text-center leading-6 font-xl text-gray-900\">\n            #{currentChatroom.name}\n          </h3>\n        </div>\n        <XIcon\n          onClick={() => setOpenUsersChat(false)}\n          className=\"absolute -top-1 -right-1 cursor-pointer h-7 w-7\"\n        />\n      </div>\n\n      <div>\n        <div className=\"flow-root mt-6\">\n          <ul className=\"-my-5 divide-y divide-gray-200\">\n            {!isEmpty(chatroomUsers) &&\n              chatroomUsers.map((user) => {\n                return (\n                  <li className=\"py-4\">\n                    <div className=\"flex items-center space-x-4\">\n                      <div className=\"flex-shrink-0\">\n                        <img\n                          className=\"h-8 w-8 rounded-full\"\n                          src={`/uploads/users/${user.picture}`}\n                          alt=\"\"\n                        />\n                      </div>\n                      <div className=\"flex-1 min-w-0\">\n                        <p className=\"text-sm font-medium text-gray-900 truncate\">\n                          {user.pseudo}\n                        </p>\n                        <p className=\"text-sm text-gray-500 truncate\">\n                          @{user.email.split(\"@\")[0]}\n                        </p>\n                      </div>\n                      <div className=\"flex\">\n                        <a\n                          href=\"#\"\n                          className=\"inline-flex items-center shadow-sm px-2.5 py-0.5 border border-gray-300 text-sm leading-5 font-medium rounded-full text-gray-700 bg-white hover:bg-gray-50\"\n                        >\n                          <ChatAltIcon className=\"h-5 mr-1 w-5\" />\n                          Message\n                        </a>\n                      </div>\n                    </div>\n                  </li>\n                );\n              })}\n          </ul>\n        </div>\n        {/* <div className=\"mt-6\">\n          <a\n            href=\"#\"\n            className=\"w-full flex justify-center items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50\"\n          >\n            Fermer\n          </a>\n        </div> */}\n      </div>\n    </div>\n  );\n};\n\nexport default UserChat;","import React, { useContext, useEffect, useRef, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Message from \"./Message\";\nimport MessageForm from \"./MessageForm\";\nimport { socketContext } from \"../../context/socketContext\";\nimport { socketMessages } from \"../../redux/actions/messagesAction\";\nimport \"./chatScreen.css\";\nimport { UidContext } from \"../../context/appContext\";\nimport { XCircleIcon } from \"@heroicons/react/solid\";\nimport FlyoutChat from \"./FlyoutChat\";\nimport UserChat from \"./UserChat\";\n\nconst ChatScreen = ({ currentChatroom, setEditUser }) => {\n  const [allMessages, setAllMessages] = useState([]);\n  const [isTyping, setIsTyping] = useState(false);\n  const [imgZoom, setImgZoom] = useState(null);\n  const [isZoom, setIsZoom] = useState(false);\n  const [openFlyout, setOpenFlyout] = useState(false);\n  const [openUsersChat, setOpenUsersChat] = useState(false);\n  const user = useSelector((state) => state.userReducer);\n  let messages = useSelector((state) => state.messagesReducer);\n  const socket = useContext(socketContext);\n  const dispatch = useDispatch();\n  const Uid = useContext(UidContext);\n  const picture = `/uploads/users/${user.picture}`;\n  const lastMessageRef = useRef(null);\n  useEffect(() => {\n    setAllMessages(messages);\n    setTimeout(() => {\n      if (lastMessageRef.current !== null) {\n        lastMessageRef.current.scrollIntoView({\n          behavior: \"smooth\"\n        });\n      }\n    }, 500);\n  }, [messages, lastMessageRef]);\n\n  // Socket\n  const userTyping = (user, currentChatroomId) => {\n    socket.emit(\"userTyping\", user, currentChatroomId);\n  };\n  const userStopTyping = () => {\n    socket.emit(\"userStopTyping\");\n  };\n  socket.on(\"userTyping\", (user, currentChatroomId) => {\n    if (user._id !== Uid && currentChatroomId === currentChatroom._id) {\n      // document.getElementById(\"user-typing\").innerText = user.pseudo;\n      // console.log(user.pseudo);\n      setTimeout(() => {\n        setIsTyping(true);\n      }, 1000);\n    } else {\n      setIsTyping(false);\n    }\n  });\n  socket.on(\"userStopTyping\", () => {\n    setIsTyping(false);\n  });\n  socket.on(\"newMessages\", (message) => {\n    dispatch(socketMessages(message));\n  });\n\n  const fullViewImg = (imageName) => {\n    const imgPath = `/uploads/users/${imageName}`;\n    setImgZoom(imgPath);\n    console.log(imgPath);\n    // document.querySelector(\"#imgFullscreen\").classList.remove(\"hidden\");\n    setIsZoom(true);\n  };\n\n  return (\n    <div className=\"w-full h-full overflow-hidden shadow-lg\">\n      <div\n        className=\"grid min-w-full border rounded\"\n        style={{ minHeight: \"100vh\" }}\n      >\n        <div className=\"col-span-2 bg-white h-full\">\n          <div\n            style={{ height: \"99vh\" }}\n            className=\"w-full flex flex-col justify-between pr-3\"\n          >\n            <div className=\"flex items-center justify-between border-b border-gray-300 px-3 py-3\">\n              <span className=\"block ml-16 font-bold text-base text-2xl text-gray-600\">\n                #{currentChatroom.name}\n              </span>\n\n              <div className=\"flex\">\n                <span className=\"connected text-green-500 self-end -mr-3 z-10 \">\n                  <svg width=\"12\" height=\"12\">\n                    <circle cx=\"6\" cy=\"6\" r=\"6\" fill=\"currentColor\"></circle>\n                  </svg>\n                </span>\n                <img\n                  onClick={() => setOpenFlyout(!openFlyout)}\n                  className=\"h-10 w-10 rounded-full cursor-pointer object-cover\"\n                  src={picture}\n                  // src=\"https://images.pexels.com/photos/3777931/pexels-photo-3777931.jpeg?auto=compress&cs=tinysrgb&h=750&w=1260\"\n                  alt=\"username\"\n                />\n              </div>\n            </div>\n            <div className=\"absolute right-10 top-12 z-40 rounded-r-none\">\n              <FlyoutChat\n                open={openFlyout}\n                setOpenUsersChat={setOpenUsersChat}\n                setEditUser={setEditUser}\n                openUsersChat={openUsersChat}\n              />\n              {openUsersChat && (\n                <UserChat setOpenUsersChat={setOpenUsersChat} />\n              )}\n            </div>\n            <div\n              id=\"chat\"\n              className=\"w-full h-5/6 overflow-y-scroll py-5 px-10 relative\"\n            >\n              <ul>\n                {allMessages[0] &&\n                  allMessages.map((message, index) => {\n                    if (allMessages.length - 1 === index) {\n                      return (\n                        <span ref={lastMessageRef} key={message._id}>\n                          <Message\n                            message={message}\n                            currentChatroom={currentChatroom}\n                            fullViewImg={fullViewImg}\n                          />\n                        </span>\n                      );\n                    } else {\n                      return (\n                        <Message\n                          key={message._id}\n                          message={message}\n                          currentChatroom={currentChatroom}\n                          fullViewImg={fullViewImg}\n                        />\n                      );\n                    }\n                  })}\n              </ul>\n            </div>\n            {isTyping && (\n              <div id=\"dot-typing\">\n                <p id=\"dot-1\">.</p>\n                <p id=\"dot-2\">.</p>\n                <p id=\"dot-3\">.</p>\n              </div>\n            )}\n\n            <MessageForm\n              userStopTyping={userStopTyping}\n              userTyping={userTyping}\n              currentChatroom={currentChatroom}\n            />\n          </div>\n        </div>\n      </div>\n      {isZoom && (\n        <div\n          id=\"imgFullscreen\"\n          className=\" z-index-1 absolute flex items-center justify-center top-8 left-1/3 bg-opacity-90 rounded-sm right-20 bottom-24 bg-gray-800\"\n        >\n          <XCircleIcon\n            onClick={() => setIsZoom(false)}\n            className=\"hover:text-green-500 cursor-pointer text-green-100 h-10 w-10 absolute top-4 right-6\"\n          />\n          <img\n            className=\"relative w-full h-4/5 object-contain rounded-sm\"\n            src={imgZoom}\n            alt=\"\"\n          />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ChatScreen;\n","import {\n  AtSymbolIcon,\n  BadgeCheckIcon,\n  PencilIcon,\n  XIcon,\n} from \"@heroicons/react/solid\";\nimport React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { updateUser } from \"../../redux/actions/userAction\";\n\nconst UserSetting = ({ setEditUser }) => {\n  const user = useSelector((state) => state.userReducer);\n  const [pseudo, setPseudo] = useState(user.pseudo);\n  const [email, setEmail] = useState(user.email);\n  const [editMode, setEditMode] = useState(false);\n  const [image, setImage] = useState(\"\");\n  const dispatch = useDispatch();\n\n  const editProfil = () => {\n    const data = new FormData();\n    data.append(\"pseudo\", pseudo);\n    data.append(\"file\", image);\n    data.append(\"email\", email);\n    dispatch(updateUser(user._id, data));\n    setEditMode(false);\n  };\n  const imagePreview = (file) => {\n    setImage(file);\n    let previewSrc;\n    previewSrc = URL.createObjectURL(file);\n    const inputImg = document.getElementById(\"uploadImgRef\");\n    inputImg.style.background = `url(${previewSrc})`;\n    inputImg.style.backgroundSize = \"cover\";\n    inputImg.style.backgroundPosition = \"center\"\n\n  }\n  return (\n    <div className=\"z-50 absolute flex items-center top-0 w-full h-full bg-opacity-100 shadow-md bg-gray-600 right-0 bottom-0 left-0\">\n      <div className=\"max-w-md mx-auto relative bg-white w-4/6 shadow-md rounded-lg px-4 sm:max-w-3xl sm:py-10 sm:px-6 lg:max-w-7xl lg:px-8\">\n        <XIcon\n          onClick={() => setEditUser(false)}\n          className=\"absolute top-5 right-5 w-8 h-8 cursor-pointer\"\n        />\n        <div className=\"divide-y divide-warm-gray-200\">\n          <section className=\"\" aria-labelledby=\"contact-heading\">\n            <h2\n              id=\"contact-heading\"\n              className=\"text-2xl mb-5 font-extrabold text-warm-gray-900 sm:text-3xl\"\n            >\n              Réglages\n            </h2>\n            <div className=\"mt-4 grid grid-cols-1 gap-12 sm:grid-cols-2 sm:gap-x-8 sm:gap-y-12 lg:mt-0 lg:col-span-2\">\n              <div className=\"bg-gray-50 rounded-md px-3 py-1\">\n                <h3 className=\"text-lg font-bold text-warm-gray-900\">\n                  Pseudo:\n                </h3>\n                <dl className=\"mt-2 text-base text-warm-gray-500\">\n                  <div>\n                    {editMode ? (\n                      <input\n                        type=\"text\"\n                        name=\"pseudo\"\n                        id=\"pseudo\"\n                        value={pseudo}\n                        onChange={(e) => setPseudo(e.target.value)}\n                        className=\"shadow-sm focus:ring-green-500 focus:border-green-500 block w-full sm:text-sm border-gray-300 rounded-md\"\n                        placeholder={user.pseudo}\n                      />\n                    ) : (\n                      <dd className=\"ml-5 text-lg\">{user.pseudo}</dd>\n                    )}\n                  </div>\n                </dl>\n              </div>\n\n              <div className=\"bg-gray-50 rounded-md px-3 py-1\">\n                <div className=\"flex items-center\">\n                  <AtSymbolIcon className=\"w-6 h-6 mr-1\" />\n                  <h3 className=\"text-lg font-bold text-warm-gray-900\">\n                    Email:\n                  </h3>\n                </div>\n                <dl className=\"mt-2 text-base text-warm-gray-500\">\n                  <div>\n                    {editMode ? (\n                      <input\n                        type=\"text\"\n                        name=\"email\"\n                        id=\"email\"\n                        value={email}\n                        onChange={(e) => setEmail(e.target.value)}\n                        className=\"shadow-sm focus:ring-green-500 focus:border-green-500 block w-full sm:text-sm border-gray-300 rounded-md\"\n                        placeholder={user.email}\n                      />\n                    ) : (\n                      <dd className=\"ml-5 text-lg\">{user.email}</dd>\n                    )}\n                  </div>\n                </dl>\n              </div>\n              <div>\n                <label\n                  className={`${\n                    editMode ? \"\" : \"disable-this\"\n                  } w-64 flex flex-col items-center disabled:opacity-50 px-4 py-8 bg-white text-blue rounded-lg shadow-lg tracking-wide uppercase border border-blue cursor-pointer hover:bg-gray-400 transition-all hover:text-white`}\n                  id=\"uploadImgRef\"\n                >\n                  <svg\n                    className=\"w-8 h-8  \"\n                    fill=\"currentColor\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    viewBox=\"0 0 30 30\"\n                  >\n                    <path d=\"M16.88 9.1A4 4 0 0 1 16 17H5a5 5 0 0 1-1-9.9V7a3 3 0 0 1 4.52-2.59A4.98 4.98 0 0 1 17 8c0 .38-.04.74-.12 1.1zM11 11h3l-4-4-4 4h3v3h2v-3z\" />\n                  </svg>\n                  <span className=\"mt-2 text-base leading-normal\">\n                    Changer de photo\n                  </span>\n                  <input\n                    type=\"file\"\n                    onChange={(e) => imagePreview(e.target.files[0])}\n                    className=\"hidden\"\n                  />\n                </label>\n              </div>\n              {editMode ? (\n                <button\n                  onClick={() => editProfil()}\n                  className=\"inline-flex items-center absolute bottom-10 right-16 justify-between w-1/5 h-12 px-5 text-green-100 transition-colors duration-150 bg-green-700 rounded-lg self-end focus:shadow-outline hover:bg-green-800\"\n                >\n                  <span className=\"text-md font-bold text-white\">Valider</span>\n                  <BadgeCheckIcon className=\"w-8 h-8 text-white\" />\n                </button>\n              ) : (\n                <button\n                  onClick={() => setEditMode(true)}\n                  className=\"inline-flex items-center absolute bottom-10 right-16 justify-between w-1/5 h-12 px-5 text-green-100 transition-colors duration-150 bg-gray-400 rounded-lg self-end focus:shadow-outline hover:bg-gray-600\"\n                >\n                  <span className=\"text-md font-bold text-white\">Modifier</span>\n                  <PencilIcon className=\"w-6 h-6 text-white\" />\n                </button>\n              )}\n            </div>\n          </section>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default UserSetting;\n","import React, { useContext, useState } from \"react\";\nimport Login from \"./Components/Login/Login\";\nimport { UidContext } from \"./context/appContext\";\nimport Navbar from \"./Navbar\";\nimport { useSelector } from \"react-redux\";\nimport ChatScreen from \"./Components/Chat/ChatScreen\";\nimport { isEmpty } from \"./utils\";\nimport UserSetting from \"./Components/settings/UserSetting\";\n\n\nconst Home = () => {\n  const uid = useContext(UidContext);\n  const chatroomsState = useSelector((state) => state.chatroomsReducer);\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\n  const [editUser, setEditUser] = useState(false);\n  \n  return (\n    <div>\n      {uid ? (\n        <div className=\"flex App\" style={{ width: \"100vw\", height: \"100vh\" }}>\n          <div\n            onClick={(e) => setMobileMenuOpen(!mobileMenuOpen)}\n            className={`burger-menu ${mobileMenuOpen ? \"is-open\" : \"is-close\"}`}\n          >\n            <span></span>\n          </div>\n          <Navbar\n            mobileMenuOpen={mobileMenuOpen}\n            setMobileMenuOpen={setMobileMenuOpen}\n            chatrooms={chatroomsState.chatrooms}\n            currentChatroom={chatroomsState.currentChatroom}\n            setEditUser={setEditUser}\n          />\n          {isEmpty(chatroomsState.currentChatroom) ? (\n            <h1>Empty</h1>\n          ) : (\n            <ChatScreen\n              setEditUser={setEditUser}\n              currentChatroom={chatroomsState.currentChatroom}\n            />\n          )}\n        </div>\n      ) : (\n        <Login />\n      )}\n      {editUser && <UserSetting setEditUser={setEditUser} />}\n    </div>\n  );\n};\n\nexport default Home;\n","import { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport \"./App.css\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport { getUser } from \"./redux/actions/userAction\";\nimport { UidContext } from \"./context/appContext\";\nimport Home from \"./Home\";\nimport { socketContext } from \"./context/socketContext\";\nimport io from \"socket.io-client\";\n\nfunction App() {\n  const [uid, setUid] = useState(null);\n  const dispatch = useDispatch();\n  const [socket, setSocket] = useState(null);\n\n  useEffect(() => {\n    const fetchToken = async () => {\n      await axios({\n        method: \"GET\",\n        url: `${process.env.REACT_APP_API_URL}jwtid`,\n        withCredentials: true,\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"GET,PUT,POST,DELETE,PATCH,OPTIONS\",\n      })\n        .then((res) => {\n          setUid(res.data);\n          const newSocket = io(`${process.env.REACT_APP_API_URL}`);\n          setSocket(newSocket);\n        })\n        .catch((err) => {\n          console.log(\"no toke\" + err);\n        });\n    };\n    fetchToken();\n    if (uid) {\n      dispatch(getUser(uid));\n    }\n  }, [uid, dispatch]);\n  \n\n  return (\n    <Router>\n      <Switch>\n        <socketContext.Provider value={socket}>\n          <UidContext.Provider value={uid}>\n            <Route exact path=\"/\" component={Home} />\n          </UidContext.Provider>\n        </socketContext.Provider>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import { GET_USER, UPDATE_USER } from \"../actions/userAction\";\n\nconst initialState = {};\n\nexport default function userReducer(state = initialState, action) {\n  switch (action.type) {\n    case GET_USER:\n      return action.payload;\n    case UPDATE_USER:\n      return action.payload;\n    default:\n      return state;\n  }\n}\n","import axios from \"axios\";\n\nexport const GET_ALL_USERS = \"GET_ALL_USERS\";\n\nexport const getAllUsers = () => {\n  return (dispatch) => {\n    return axios\n      .get(`${process.env.REACT_APP_API_URL}api/users`)\n      .then((res) => {\n        dispatch({\n          type: GET_ALL_USERS,\n          payload: res.data,\n        });\n      })\n      .catch((err) => console.log(err));\n  };\n};\n\n","import { GET_ALL_USERS } from \"../actions/usersAction\";\n\nconst initialState = {};\n\nexport default function usersReducer(state = initialState, action) {\n  switch (action.type) {\n    case GET_ALL_USERS:\n      return action.payload;\n    default:\n      return state;\n  }\n}","import { CHANGE_CURRENT, CREATE_CHATROOM, GET_ALL_CHATROOMS } from \"../actions/chatroomsAction\";\n\nconst initialState = {\n  currentChatroom: {},\n  chatrooms: []\n};\n\nexport default function chatroomsReducer(state = initialState, action) {\n  switch (action.type) {\n    case GET_ALL_CHATROOMS:\n      return {\n        ...state,\n        chatrooms: action.payload\n      };\n    case CHANGE_CURRENT:\n      return {\n        ...state,\n        currentChatroom: action.payload\n      }\n    case CREATE_CHATROOM:\n      const newState = [...state.chatrooms]\n      newState.push(action.payload);\n      return {\n        ...state,\n        chatrooms: newState,\n      }\n    default:\n      return state;\n  }\n}\n\n","import { SEND_MESSAGE, GET_ALL_MESSAGES, SOCKET_MESSAGES } from \"../actions/messagesAction\";\n\nconst initialState = {};\n\nexport default function messagesReducer(state = initialState, action) {\n  switch (action.type) {\n    case GET_ALL_MESSAGES:\n      return action.payload;\n    case SEND_MESSAGE:\n      let newState = [...state]\n      newState.push(action.payload)\n      return newState;\n    case SOCKET_MESSAGES:\n      let find = state.filter((message) => message._id === action.payload._id);\n      if (find.length > 0) {\n        return state\n      } else {\n        let newState = [...state];\n        newState.push(action.payload);\n        return newState;\n      }\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from \"redux\";\nimport userReducer from \"./userReducer\";\nimport usersReducer from \"./usersReducer\";\nimport chatroomsReducer from './chatroomsReducer';\nimport messagesReducer from './messagesReducer';\n\nexport default combineReducers({\n  userReducer,\n  usersReducer,\n  chatroomsReducer,\n  messagesReducer\n});","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport thunk from 'redux-thunk';\nimport { Provider } from \"react-redux\";\nimport rootReducer from './redux/reducers';\nimport { applyMiddleware, createStore } from 'redux';\nimport { getAllUsers } from \"./redux/actions/usersAction\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport { getAllChatrooms } from './redux/actions/chatroomsAction';\n\n\nconst store = createStore(rootReducer, composeWithDevTools(applyMiddleware(thunk)));\nstore.dispatch(getAllUsers());\nstore.dispatch(getAllChatrooms());\nReactDOM.render(\n    <Provider store={store}>\n      <App />\n    </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}